From 53e635b89877e5ed047d12d866f46c2d9e20a370 Mon Sep 17 00:00:00 2001
From: Alexander von Gluck IV <kallisti5@unixzen.com>
Date: Tue, 4 Jan 2022 10:36:26 -0600
Subject: [PATCH] u-boot: bare minimum to get tools compiled under Haiku

---
 arch/arc/lib/bootm.c                                      | 2 +-
 arch/arm/cpu/armv8/fsl-layerscape/mp.c                    | 2 +-
 arch/arm/cpu/armv8/fsl-layerscape/spl.c                   | 2 +-
 arch/arm/cpu/armv8/sec_firmware.c                         | 2 +-
 arch/arm/lib/bootm.c                                      | 2 +-
 arch/arm/lib/image.c                                      | 2 +-
 arch/arm/lib/spl.c                                        | 2 +-
 arch/arm/lib/zimage.c                                     | 2 +-
 arch/arm/mach-imx/hab.c                                   | 2 +-
 arch/arm/mach-imx/spl_imx_romapi.c                        | 2 +-
 arch/arm/mach-k3/common.c                                 | 2 +-
 arch/arm/mach-k3/security.c                               | 2 +-
 arch/arm/mach-k3/sysfw-loader.c                           | 2 +-
 arch/arm/mach-keystone/cmd_mon.c                          | 2 +-
 arch/arm/mach-keystone/mon.c                              | 2 +-
 arch/arm/mach-mvebu/spl.c                                 | 2 +-
 arch/arm/mach-rockchip/spl.c                              | 2 +-
 arch/arm/mach-socfpga/board.c                             | 2 +-
 arch/arm/mach-socfpga/include/mach/fpga_manager_arria10.h | 2 +-
 arch/arm/mach-socfpga/spl_a10.c                           | 2 +-
 arch/arm/mach-socfpga/spl_agilex.c                        | 2 +-
 arch/arm/mach-socfpga/spl_gen5.c                          | 2 +-
 arch/arm/mach-socfpga/spl_n5x.c                           | 2 +-
 arch/arm/mach-socfpga/spl_s10.c                           | 2 +-
 arch/arm/mach-stm32mp/cmd_stm32prog/cmd_stm32prog.c       | 2 +-
 arch/arm/mach-stm32mp/dram_init.c                         | 2 +-
 arch/arm/mach-sunxi/spl_spi_sunxi.c                       | 2 +-
 arch/arm/mach-zynq/spl.c                                  | 2 +-
 arch/arm/mach-zynqmp/spl.c                                | 2 +-
 arch/m68k/lib/bootm.c                                     | 2 +-
 arch/microblaze/cpu/spl.c                                 | 2 +-
 arch/microblaze/lib/bootm.c                               | 2 +-
 arch/mips/lib/bootm.c                                     | 2 +-
 arch/mips/mach-jz47xx/jz4780/jz4780.c                     | 2 +-
 arch/nds32/lib/bootm.c                                    | 2 +-
 arch/nios2/lib/bootm.c                                    | 2 +-
 arch/powerpc/lib/bootm.c                                  | 2 +-
 arch/powerpc/lib/spl.c                                    | 2 +-
 arch/riscv/lib/bootm.c                                    | 2 +-
 arch/riscv/lib/image.c                                    | 2 +-
 arch/sandbox/cpu/os.c                                     | 3 +++
 arch/sandbox/include/asm/types.h                          | 2 ++
 arch/sandbox/lib/bootm.c                                  | 2 +-
 arch/sh/lib/bootm.c                                       | 2 +-
 arch/x86/cpu/apollolake/spl.c                             | 2 +-
 arch/x86/lib/bootm.c                                      | 2 +-
 arch/x86/lib/spl.c                                        | 2 +-
 arch/x86/lib/tpl.c                                        | 2 +-
 arch/xtensa/lib/bootm.c                                   | 2 +-
 board/AndesTech/ax25-ae350/ax25-ae350.c                   | 2 +-
 board/advantech/imx8qm_rom7720_a1/spl.c                   | 2 +-
 board/aristainetos/aristainetos.c                         | 2 +-
 board/beacon/imx8mn/spl.c                                 | 2 +-
 board/compulab/imx8mm-cl-iot-gate/spl.c                   | 2 +-
 board/dhelectronics/dh_imx6/dh_imx6.c                     | 2 +-
 board/emulation/qemu-riscv/qemu-riscv.c                   | 2 +-
 board/engicam/common/spl.c                                | 2 +-
 board/freescale/corenet_ds/corenet_ds.c                   | 2 +-
 board/freescale/imx8mm_evk/spl.c                          | 2 +-
 board/freescale/imx8mn_evk/spl.c                          | 2 +-
 board/freescale/imx8mq_evk/spl.c                          | 2 +-
 board/freescale/imx8qm_mek/spl.c                          | 2 +-
 board/freescale/imx8qxp_mek/spl.c                         | 2 +-
 board/freescale/mx6sabreauto/mx6sabreauto.c               | 2 +-
 board/freescale/mx6sabresd/mx6sabresd.c                   | 2 +-
 board/freescale/p1010rdb/p1010rdb.c                       | 2 +-
 board/freescale/p1_p2_rdb_pc/p1_p2_rdb_pc.c               | 2 +-
 board/freescale/p2041rdb/p2041rdb.c                       | 2 +-
 board/freescale/t102xrdb/t102xrdb.c                       | 2 +-
 board/freescale/t104xrdb/t104xrdb.c                       | 2 +-
 board/freescale/t208xqds/t208xqds.c                       | 2 +-
 board/freescale/t208xrdb/t208xrdb.c                       | 2 +-
 board/freescale/t4rdb/t4240rdb.c                          | 2 +-
 board/gateworks/venice/spl.c                              | 2 +-
 board/ge/bx50v3/bx50v3.c                                  | 2 +-
 board/keymile/kmcent2/kmcent2.c                           | 2 +-
 board/liebherr/display5/spl.c                             | 2 +-
 board/liebherr/mccmon6/spl.c                              | 2 +-
 board/mscc/jr2/jr2.c                                      | 2 +-
 board/mscc/luton/luton.c                                  | 2 +-
 board/mscc/ocelot/ocelot.c                                | 2 +-
 board/mscc/serval/serval.c                                | 2 +-
 board/mscc/servalt/servalt.c                              | 2 +-
 board/renesas/rcar-common/gen3-spl.c                      | 2 +-
 board/renesas/salvator-x/salvator-x.c                     | 2 +-
 board/renesas/ulcb/ulcb.c                                 | 2 +-
 board/solidrun/mx6cuboxi/mx6cuboxi.c                      | 2 +-
 board/sunxi/board.c                                       | 2 +-
 board/synopsys/hsdk/hsdk.c                                | 2 +-
 board/technexion/pico-imx6/spl.c                          | 2 +-
 board/ti/am335x/board.c                                   | 2 +-
 board/ti/am43xx/board.c                                   | 2 +-
 board/ti/am57xx/board.c                                   | 2 +-
 board/ti/am65x/evm.c                                      | 2 +-
 board/ti/dra7xx/evm.c                                     | 2 +-
 board/ti/j721e/evm.c                                      | 2 +-
 board/ti/ks2_evm/board.c                                  | 2 +-
 board/ti/ks2_evm/board_k2e.c                              | 2 +-
 board/ti/ks2_evm/board_k2g.c                              | 2 +-
 board/ti/ks2_evm/board_k2hk.c                             | 2 +-
 board/ti/ks2_evm/board_k2l.c                              | 2 +-
 board/toradex/apalis_imx6/apalis_imx6.c                   | 2 +-
 board/toradex/verdin-imx8mm/spl.c                         | 2 +-
 board/wandboard/wandboard.c                               | 2 +-
 board/xilinx/zynqmp/zynqmp.c                              | 2 +-
 cmd/abootimg.c                                            | 2 +-
 cmd/avb.c                                                 | 2 +-
 cmd/bmp.c                                                 | 2 +-
 cmd/bootefi.c                                             | 2 +-
 cmd/booti.c                                               | 2 +-
 cmd/bootm.c                                               | 2 +-
 cmd/bootz.c                                               | 2 +-
 cmd/cramfs.c                                              | 2 +-
 cmd/disk.c                                                | 2 +-
 cmd/elf.c                                                 | 2 +-
 cmd/ext4.c                                                | 2 +-
 cmd/fdt.c                                                 | 2 +-
 cmd/fpga.c                                                | 2 +-
 cmd/ide.c                                                 | 2 +-
 cmd/jffs2.c                                               | 2 +-
 cmd/load.c                                                | 2 +-
 cmd/md5sum.c                                              | 2 +-
 cmd/mvebu/bubt.c                                          | 2 +-
 cmd/nand.c                                                | 2 +-
 cmd/net.c                                                 | 2 +-
 cmd/optee_rpmb.c                                          | 2 +-
 cmd/pxe_utils.c                                           | 2 +-
 cmd/reiser.c                                              | 2 +-
 cmd/source.c                                              | 2 +-
 cmd/spl.c                                                 | 2 +-
 cmd/ximg.c                                                | 2 +-
 cmd/zfs.c                                                 | 2 +-
 common/avb_verify.c                                       | 2 +-
 common/board_r.c                                          | 2 +-
 common/boot_fit.c                                         | 2 +-
 common/bootm.c                                            | 2 +-
 common/bootm_os.c                                         | 2 +-
 common/common_fit.c                                       | 2 +-
 common/hash.c                                             | 2 +-
 common/image-android.c                                    | 2 +-
 common/image-cipher.c                                     | 2 +-
 common/image-fdt.c                                        | 2 +-
 common/image-fit-sig.c                                    | 2 +-
 common/image-fit.c                                        | 2 +-
 common/image-sig.c                                        | 2 +-
 common/image.c                                            | 4 ++--
 common/lynxkdi.c                                          | 2 +-
 common/spl/spl.c                                          | 2 +-
 common/spl/spl_atf.c                                      | 2 +-
 common/spl/spl_ext.c                                      | 2 +-
 common/spl/spl_fat.c                                      | 2 +-
 common/spl/spl_fit.c                                      | 2 +-
 common/spl/spl_legacy.c                                   | 2 +-
 common/spl/spl_mmc.c                                      | 2 +-
 common/spl/spl_nand.c                                     | 2 +-
 common/spl/spl_net.c                                      | 2 +-
 common/spl/spl_nor.c                                      | 2 +-
 common/spl/spl_onenand.c                                  | 2 +-
 common/spl/spl_opensbi.c                                  | 2 +-
 common/spl/spl_ram.c                                      | 2 +-
 common/spl/spl_sata.c                                     | 2 +-
 common/spl/spl_spi.c                                      | 2 +-
 common/spl/spl_ubi.c                                      | 2 +-
 common/spl/spl_xip.c                                      | 2 +-
 common/spl/spl_ymodem.c                                   | 2 +-
 common/splash_source.c                                    | 2 +-
 common/update.c                                           | 2 +-
 drivers/fastboot/fb_mmc.c                                 | 2 +-
 drivers/fpga/socfpga_arria10.c                            | 2 +-
 drivers/net/fsl-mc/mc.c                                   | 2 +-
 drivers/net/pfe_eth/pfe_firmware.c                        | 2 +-
 drivers/usb/gadget/f_sdp.c                                | 2 +-
 include/bootm.h                                           | 2 +-
 include/ctype.h                                           | 1 -
 include/efi_loader.h                                      | 2 +-
 include/imx8image.h                                       | 2 +-
 include/tee/optee.h                                       | 2 +-
 include/u-boot/aes.h                                      | 2 +-
 include/u-boot/ecdsa.h                                    | 2 +-
 include/u-boot/hash-checksum.h                            | 2 +-
 include/u-boot/rsa-mod-exp.h                              | 2 +-
 include/u-boot/rsa.h                                      | 2 +-
 lib/aes/aes-decrypt.c                                     | 2 +-
 lib/aes/aes-encrypt.c                                     | 2 +-
 lib/crypto/pkcs7_verify.c                                 | 2 +-
 lib/crypto/public_key.c                                   | 2 +-
 lib/crypto/x509_public_key.c                              | 2 +-
 lib/efi_loader/efi_firmware.c                             | 2 +-
 lib/efi_loader/efi_signature.c                            | 2 +-
 lib/gunzip.c                                              | 2 +-
 lib/gzip.c                                                | 2 +-
 lib/hash-checksum.c                                       | 2 +-
 lib/lmb.c                                                 | 2 +-
 lib/lz4_wrapper.c                                         | 2 +-
 lib/optee/optee.c                                         | 2 +-
 lib/rsa/rsa-keyprop.c                                     | 2 +-
 lib/rsa/rsa-sign.c                                        | 2 +-
 net/net.c                                                 | 2 +-
 net/nfs.c                                                 | 2 +-
 net/tftp.c                                                | 2 +-
 test/compression.c                                        | 2 +-
 test/image/spl_load.c                                     | 2 +-
 test/lib/rsa.c                                            | 2 +-
 test/overlay/cmd_ut_overlay.c                             | 2 +-
 tools/aisimage.c                                          | 2 +-
 tools/atmelimage.c                                        | 2 +-
 tools/default_image.c                                     | 2 +-
 tools/dumpimage.c                                         | 2 +-
 tools/fit_check_sign.c                                    | 2 +-
 tools/fit_common.c                                        | 2 +-
 tools/fit_common.h                                        | 2 +-
 tools/fit_image.c                                         | 2 +-
 tools/fit_info.c                                          | 2 +-
 tools/gpimage-common.c                                    | 2 +-
 tools/gpimage.c                                           | 2 +-
 tools/image-host.c                                        | 2 +-
 tools/image-sig-host.c                                    | 2 +-
 tools/imagetool.c                                         | 2 +-
 tools/imx8image.c                                         | 2 +-
 tools/imx8mimage.c                                        | 2 +-
 tools/imximage.c                                          | 2 +-
 tools/kwbimage.c                                          | 2 +-
 tools/kwboot.c                                            | 2 +-
 tools/lpc32xximage.c                                      | 2 +-
 tools/mkimage.c                                           | 2 +-
 tools/mtk_image.c                                         | 2 +-
 tools/mxsimage.c                                          | 2 +-
 tools/omapimage.c                                         | 2 +-
 tools/pblimage.c                                          | 2 +-
 tools/rkcommon.c                                          | 2 +-
 tools/rkimage.c                                           | 2 +-
 tools/rksd.c                                              | 2 +-
 tools/rkspi.c                                             | 2 +-
 tools/socfpgaimage.c                                      | 2 +-
 tools/stm32image.c                                        | 2 +-
 tools/sunxi_egon.c                                        | 2 +-
 tools/ublimage.c                                          | 2 +-
 tools/vybridimage.c                                       | 2 +-
 tools/zynqimage.c                                         | 2 +-
 tools/zynqmpbif.c                                         | 2 +-
 tools/zynqmpimage.c                                       | 2 +-
 241 files changed, 244 insertions(+), 240 deletions(-)
 delete mode 120000 include/ctype.h

diff --git a/arch/arc/lib/bootm.c b/arch/arc/lib/bootm.c
index 8a8d394a..a0300c8e 100644
--- a/arch/arc/lib/bootm.c
+++ b/arch/arc/lib/bootm.c
@@ -6,7 +6,7 @@
 #include <common.h>
 #include <bootstage.h>
 #include <env.h>
-#include <image.h>
+#include <uimage.h>
 #include <irq_func.h>
 #include <lmb.h>
 #include <log.h>
diff --git a/arch/arm/cpu/armv8/fsl-layerscape/mp.c b/arch/arm/cpu/armv8/fsl-layerscape/mp.c
index 730d7663..09f3d1b5 100644
--- a/arch/arm/cpu/armv8/fsl-layerscape/mp.c
+++ b/arch/arm/cpu/armv8/fsl-layerscape/mp.c
@@ -5,7 +5,7 @@
 
 #include <common.h>
 #include <cpu_func.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <asm/cache.h>
 #include <asm/global_data.h>
diff --git a/arch/arm/cpu/armv8/fsl-layerscape/spl.c b/arch/arm/cpu/armv8/fsl-layerscape/spl.c
index 1d5e3444..e096ca06 100644
--- a/arch/arm/cpu/armv8/fsl-layerscape/spl.c
+++ b/arch/arm/cpu/armv8/fsl-layerscape/spl.c
@@ -9,7 +9,7 @@
 #include <debug_uart.h>
 #include <env.h>
 #include <hang.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <log.h>
 #include <spl.h>
diff --git a/arch/arm/cpu/armv8/sec_firmware.c b/arch/arm/cpu/armv8/sec_firmware.c
index 267894fb..3a7ed1a3 100644
--- a/arch/arm/cpu/armv8/sec_firmware.c
+++ b/arch/arm/cpu/armv8/sec_firmware.c
@@ -7,7 +7,7 @@
 #include <cpu_func.h>
 #include <errno.h>
 #include <fdt_support.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <asm/cache.h>
 #include <asm/global_data.h>
diff --git a/arch/arm/lib/bootm.c b/arch/arm/lib/bootm.c
index f60ee3a7..6cf92c8d 100644
--- a/arch/arm/lib/bootm.c
+++ b/arch/arm/lib/bootm.c
@@ -21,7 +21,7 @@
 #include <asm/global_data.h>
 #include <dm/root.h>
 #include <env.h>
-#include <image.h>
+#include <uimage.h>
 #include <u-boot/zlib.h>
 #include <asm/byteorder.h>
 #include <linux/libfdt.h>
diff --git a/arch/arm/lib/image.c b/arch/arm/lib/image.c
index e394c1ad..8c16da29 100644
--- a/arch/arm/lib/image.c
+++ b/arch/arm/lib/image.c
@@ -5,7 +5,7 @@
  */
 
 #include <common.h>
-#include <image.h>
+#include <uimage.h>
 #include <mapmem.h>
 #include <asm/global_data.h>
 #include <linux/bitops.h>
diff --git a/arch/arm/lib/spl.c b/arch/arm/lib/spl.c
index 8e2bdf35..aa5d6942 100644
--- a/arch/arm/lib/spl.c
+++ b/arch/arm/lib/spl.c
@@ -12,7 +12,7 @@
 #include <init.h>
 #include <log.h>
 #include <spl.h>
-#include <image.h>
+#include <uimage.h>
 #include <asm/cache.h>
 #include <asm/global_data.h>
 #include <linux/compiler.h>
diff --git a/arch/arm/lib/zimage.c b/arch/arm/lib/zimage.c
index 45e9c450..568b116a 100644
--- a/arch/arm/lib/zimage.c
+++ b/arch/arm/lib/zimage.c
@@ -7,7 +7,7 @@
  * Copyright (C) 2012 Marek Vasut <marek.vasut@gmail.com>
  */
 #include <common.h>
-#include <image.h>
+#include <uimage.h>
 
 #define	LINUX_ARM_ZIMAGE_MAGIC	0x016f2818
 #define	BAREBOX_IMAGE_MAGIC	0x00786f62
diff --git a/arch/arm/mach-imx/hab.c b/arch/arm/mach-imx/hab.c
index cc39e6bf..79873640 100644
--- a/arch/arm/mach-imx/hab.c
+++ b/arch/arm/mach-imx/hab.c
@@ -8,7 +8,7 @@
 #include <config.h>
 #include <fuse.h>
 #include <mapmem.h>
-#include <image.h>
+#include <uimage.h>
 #include <asm/io.h>
 #include <asm/global_data.h>
 #include <asm/system.h>
diff --git a/arch/arm/mach-imx/spl_imx_romapi.c b/arch/arm/mach-imx/spl_imx_romapi.c
index d827de37..dcbf335c 100644
--- a/arch/arm/mach-imx/spl_imx_romapi.c
+++ b/arch/arm/mach-imx/spl_imx_romapi.c
@@ -5,7 +5,7 @@
 
 #include <common.h>
 #include <errno.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <asm/global_data.h>
 #include <linux/libfdt.h>
diff --git a/arch/arm/mach-k3/common.c b/arch/arm/mach-k3/common.c
index 2666cd2d..7be17a04 100644
--- a/arch/arm/mach-k3/common.c
+++ b/arch/arm/mach-k3/common.c
@@ -8,7 +8,7 @@
 
 #include <common.h>
 #include <cpu_func.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <log.h>
 #include <spl.h>
diff --git a/arch/arm/mach-k3/security.c b/arch/arm/mach-k3/security.c
index 8de9739a..e8558ae2 100644
--- a/arch/arm/mach-k3/security.c
+++ b/arch/arm/mach-k3/security.c
@@ -10,7 +10,7 @@
 #include <cpu_func.h>
 #include <dm.h>
 #include <hang.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <asm/cache.h>
 #include <linux/soc/ti/ti_sci_protocol.h>
diff --git a/arch/arm/mach-k3/sysfw-loader.c b/arch/arm/mach-k3/sysfw-loader.c
index d213e06a..802d407b 100644
--- a/arch/arm/mach-k3/sysfw-loader.c
+++ b/arch/arm/mach-k3/sysfw-loader.c
@@ -8,7 +8,7 @@
 
 #include <common.h>
 #include <dm.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <spl.h>
 #include <malloc.h>
diff --git a/arch/arm/mach-keystone/cmd_mon.c b/arch/arm/mach-keystone/cmd_mon.c
index e26296b6..78fa1944 100644
--- a/arch/arm/mach-keystone/cmd_mon.c
+++ b/arch/arm/mach-keystone/cmd_mon.c
@@ -8,7 +8,7 @@
 
 #include <common.h>
 #include <command.h>
-#include <image.h>
+#include <uimage.h>
 #include <mach/mon.h>
 asm(".arch_extension sec\n\t");
 
diff --git a/arch/arm/mach-keystone/mon.c b/arch/arm/mach-keystone/mon.c
index b863bab1..6eabd06b 100644
--- a/arch/arm/mach-keystone/mon.c
+++ b/arch/arm/mach-keystone/mon.c
@@ -6,7 +6,7 @@
  */
 
 #include <hang.h>
-#include <image.h>
+#include <uimage.h>
 #include <asm/unaligned.h>
 #include <common.h>
 #include <command.h>
diff --git a/arch/arm/mach-mvebu/spl.c b/arch/arm/mach-mvebu/spl.c
index 8d6d4902..873d7144 100644
--- a/arch/arm/mach-mvebu/spl.c
+++ b/arch/arm/mach-mvebu/spl.c
@@ -8,7 +8,7 @@
 #include <debug_uart.h>
 #include <fdtdec.h>
 #include <hang.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <log.h>
 #include <spl.h>
diff --git a/arch/arm/mach-rockchip/spl.c b/arch/arm/mach-rockchip/spl.c
index 02c40fb3..4a330a87 100644
--- a/arch/arm/mach-rockchip/spl.c
+++ b/arch/arm/mach-rockchip/spl.c
@@ -7,7 +7,7 @@
 #include <debug_uart.h>
 #include <dm.h>
 #include <hang.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <log.h>
 #include <ram.h>
diff --git a/arch/arm/mach-socfpga/board.c b/arch/arm/mach-socfpga/board.c
index 72671632..c7bebe65 100644
--- a/arch/arm/mach-socfpga/board.c
+++ b/arch/arm/mach-socfpga/board.c
@@ -15,7 +15,7 @@
 #include <errno.h>
 #include <fdtdec.h>
 #include <hang.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <log.h>
 #include <usb.h>
diff --git a/arch/arm/mach-socfpga/include/mach/fpga_manager_arria10.h b/arch/arm/mach-socfpga/include/mach/fpga_manager_arria10.h
index 04870820..15c8c10b 100644
--- a/arch/arm/mach-socfpga/include/mach/fpga_manager_arria10.h
+++ b/arch/arm/mach-socfpga/include/mach/fpga_manager_arria10.h
@@ -6,7 +6,7 @@
 
 #include <asm/cache.h>
 #include <altera.h>
-#include <image.h>
+#include <uimage.h>
 #include <linux/bitops.h>
 
 #ifndef _FPGA_MANAGER_ARRIA10_H_
diff --git a/arch/arm/mach-socfpga/spl_a10.c b/arch/arm/mach-socfpga/spl_a10.c
index b5f43f09..b89b1768 100644
--- a/arch/arm/mach-socfpga/spl_a10.c
+++ b/arch/arm/mach-socfpga/spl_a10.c
@@ -12,7 +12,7 @@
 #include <asm/pl310.h>
 #include <asm/u-boot.h>
 #include <asm/utils.h>
-#include <image.h>
+#include <uimage.h>
 #include <asm/arch/reset_manager.h>
 #include <spl.h>
 #include <asm/arch/system_manager.h>
diff --git a/arch/arm/mach-socfpga/spl_agilex.c b/arch/arm/mach-socfpga/spl_agilex.c
index ee5a9dc1..7d07e5d4 100644
--- a/arch/arm/mach-socfpga/spl_agilex.c
+++ b/arch/arm/mach-socfpga/spl_agilex.c
@@ -12,7 +12,7 @@
 #include <asm/utils.h>
 #include <common.h>
 #include <hang.h>
-#include <image.h>
+#include <uimage.h>
 #include <spl.h>
 #include <asm/arch/clock_manager.h>
 #include <asm/arch/firewall.h>
diff --git a/arch/arm/mach-socfpga/spl_gen5.c b/arch/arm/mach-socfpga/spl_gen5.c
index 7c716117..4eab6d19 100644
--- a/arch/arm/mach-socfpga/spl_gen5.c
+++ b/arch/arm/mach-socfpga/spl_gen5.c
@@ -11,7 +11,7 @@
 #include <asm/io.h>
 #include <asm/u-boot.h>
 #include <asm/utils.h>
-#include <image.h>
+#include <uimage.h>
 #include <asm/arch/reset_manager.h>
 #include <spl.h>
 #include <asm/arch/system_manager.h>
diff --git a/arch/arm/mach-socfpga/spl_n5x.c b/arch/arm/mach-socfpga/spl_n5x.c
index d056871d..b76568d0 100644
--- a/arch/arm/mach-socfpga/spl_n5x.c
+++ b/arch/arm/mach-socfpga/spl_n5x.c
@@ -17,7 +17,7 @@
 #include <asm/utils.h>
 #include <dm/uclass.h>
 #include <hang.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <spl.h>
 #include <watchdog.h>
diff --git a/arch/arm/mach-socfpga/spl_s10.c b/arch/arm/mach-socfpga/spl_s10.c
index c20e87cd..04a161db 100644
--- a/arch/arm/mach-socfpga/spl_s10.c
+++ b/arch/arm/mach-socfpga/spl_s10.c
@@ -13,7 +13,7 @@
 #include <asm/utils.h>
 #include <common.h>
 #include <debug_uart.h>
-#include <image.h>
+#include <uimage.h>
 #include <spl.h>
 #include <asm/arch/clock_manager.h>
 #include <asm/arch/firewall.h>
diff --git a/arch/arm/mach-stm32mp/cmd_stm32prog/cmd_stm32prog.c b/arch/arm/mach-stm32mp/cmd_stm32prog/cmd_stm32prog.c
index 41452b5a..a8fd9ea3 100644
--- a/arch/arm/mach-stm32mp/cmd_stm32prog/cmd_stm32prog.c
+++ b/arch/arm/mach-stm32mp/cmd_stm32prog/cmd_stm32prog.c
@@ -6,7 +6,7 @@
 #include <common.h>
 #include <command.h>
 #include <dfu.h>
-#include <image.h>
+#include <uimage.h>
 #include <asm/arch/stm32prog.h>
 #include "stm32prog.h"
 
diff --git a/arch/arm/mach-stm32mp/dram_init.c b/arch/arm/mach-stm32mp/dram_init.c
index 920b99bb..7618de64 100644
--- a/arch/arm/mach-stm32mp/dram_init.c
+++ b/arch/arm/mach-stm32mp/dram_init.c
@@ -7,7 +7,7 @@
 
 #include <common.h>
 #include <dm.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <lmb.h>
 #include <log.h>
diff --git a/arch/arm/mach-sunxi/spl_spi_sunxi.c b/arch/arm/mach-sunxi/spl_spi_sunxi.c
index 15e86cba..752807f6 100644
--- a/arch/arm/mach-sunxi/spl_spi_sunxi.c
+++ b/arch/arm/mach-sunxi/spl_spi_sunxi.c
@@ -4,7 +4,7 @@
  */
 
 #include <common.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <spl.h>
 #include <asm/gpio.h>
diff --git a/arch/arm/mach-zynq/spl.c b/arch/arm/mach-zynq/spl.c
index d09141c3..b6f67f73 100644
--- a/arch/arm/mach-zynq/spl.c
+++ b/arch/arm/mach-zynq/spl.c
@@ -5,7 +5,7 @@
 #include <common.h>
 #include <debug_uart.h>
 #include <hang.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <log.h>
 #include <spl.h>
diff --git a/arch/arm/mach-zynqmp/spl.c b/arch/arm/mach-zynqmp/spl.c
index 8fcae2c6..7f553e0e 100644
--- a/arch/arm/mach-zynqmp/spl.c
+++ b/arch/arm/mach-zynqmp/spl.c
@@ -6,7 +6,7 @@
  */
 
 #include <common.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <log.h>
 #include <spl.h>
diff --git a/arch/m68k/lib/bootm.c b/arch/m68k/lib/bootm.c
index 51a6f938..8487e624 100644
--- a/arch/m68k/lib/bootm.c
+++ b/arch/m68k/lib/bootm.c
@@ -8,7 +8,7 @@
 #include <bootstage.h>
 #include <command.h>
 #include <env.h>
-#include <image.h>
+#include <uimage.h>
 #include <lmb.h>
 #include <log.h>
 #include <asm/global_data.h>
diff --git a/arch/microblaze/cpu/spl.c b/arch/microblaze/cpu/spl.c
index 86522f84..7f725dd9 100644
--- a/arch/microblaze/cpu/spl.c
+++ b/arch/microblaze/cpu/spl.c
@@ -7,7 +7,7 @@
 
 #include <common.h>
 #include <command.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <spl.h>
 #include <asm/io.h>
diff --git a/arch/microblaze/lib/bootm.c b/arch/microblaze/lib/bootm.c
index 6695ac63..f6213bb0 100644
--- a/arch/microblaze/lib/bootm.c
+++ b/arch/microblaze/lib/bootm.c
@@ -14,7 +14,7 @@
 #include <env.h>
 #include <fdt_support.h>
 #include <hang.h>
-#include <image.h>
+#include <uimage.h>
 #include <lmb.h>
 #include <log.h>
 #include <asm/cache.h>
diff --git a/arch/mips/lib/bootm.c b/arch/mips/lib/bootm.c
index fde90fce..609a19b9 100644
--- a/arch/mips/lib/bootm.c
+++ b/arch/mips/lib/bootm.c
@@ -7,7 +7,7 @@
 #include <common.h>
 #include <bootstage.h>
 #include <env.h>
-#include <image.h>
+#include <uimage.h>
 #include <fdt_support.h>
 #include <lmb.h>
 #include <log.h>
diff --git a/arch/mips/mach-jz47xx/jz4780/jz4780.c b/arch/mips/mach-jz47xx/jz4780/jz4780.c
index fefba128..20350f79 100644
--- a/arch/mips/mach-jz47xx/jz4780/jz4780.c
+++ b/arch/mips/mach-jz47xx/jz4780/jz4780.c
@@ -10,7 +10,7 @@
 #include <common.h>
 #include <cpu_func.h>
 #include <hang.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <asm/global_data.h>
 #include <asm/io.h>
diff --git a/arch/nds32/lib/bootm.c b/arch/nds32/lib/bootm.c
index 4cb0f530..1b8926ef 100644
--- a/arch/nds32/lib/bootm.c
+++ b/arch/nds32/lib/bootm.c
@@ -10,7 +10,7 @@
 #include <command.h>
 #include <env.h>
 #include <hang.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <asm/global_data.h>
 #include <u-boot/zlib.h>
diff --git a/arch/nios2/lib/bootm.c b/arch/nios2/lib/bootm.c
index 50374671..a5420eeb 100644
--- a/arch/nios2/lib/bootm.c
+++ b/arch/nios2/lib/bootm.c
@@ -7,7 +7,7 @@
 #include <common.h>
 #include <cpu_func.h>
 #include <env.h>
-#include <image.h>
+#include <uimage.h>
 #include <irq_func.h>
 #include <log.h>
 
diff --git a/arch/powerpc/lib/bootm.c b/arch/powerpc/lib/bootm.c
index 31c17b5b..e33e6e5d 100644
--- a/arch/powerpc/lib/bootm.c
+++ b/arch/powerpc/lib/bootm.c
@@ -16,7 +16,7 @@
 #include <log.h>
 #include <watchdog.h>
 #include <command.h>
-#include <image.h>
+#include <uimage.h>
 #include <malloc.h>
 #include <asm/global_data.h>
 #include <u-boot/zlib.h>
diff --git a/arch/powerpc/lib/spl.c b/arch/powerpc/lib/spl.c
index d4a60575..fdd64d7b 100644
--- a/arch/powerpc/lib/spl.c
+++ b/arch/powerpc/lib/spl.c
@@ -6,7 +6,7 @@
 #include <config.h>
 #include <log.h>
 #include <spl.h>
-#include <image.h>
+#include <uimage.h>
 #include <linux/compiler.h>
 
 /*
diff --git a/arch/riscv/lib/bootm.c b/arch/riscv/lib/bootm.c
index 8dd18205..ec7cfa58 100644
--- a/arch/riscv/lib/bootm.c
+++ b/arch/riscv/lib/bootm.c
@@ -15,7 +15,7 @@
 #include <log.h>
 #include <asm/global_data.h>
 #include <dm/root.h>
-#include <image.h>
+#include <uimage.h>
 #include <asm/byteorder.h>
 #include <asm/csr.h>
 #include <asm/smp.h>
diff --git a/arch/riscv/lib/image.c b/arch/riscv/lib/image.c
index a65a5b8d..0b53795f 100644
--- a/arch/riscv/lib/image.c
+++ b/arch/riscv/lib/image.c
@@ -7,7 +7,7 @@
  */
 
 #include <common.h>
-#include <image.h>
+#include <uimage.h>
 #include <mapmem.h>
 #include <errno.h>
 #include <asm/global_data.h>
diff --git a/arch/sandbox/cpu/os.c b/arch/sandbox/cpu/os.c
index 11035309..28775c9e 100644
--- a/arch/sandbox/cpu/os.c
+++ b/arch/sandbox/cpu/os.c
@@ -17,7 +17,10 @@
 #include <string.h>
 #include <termios.h>
 #include <time.h>
+#ifndef __HAIKU__
+// posix removed ucontext.h in issue 7 and merged with signal.h
 #include <ucontext.h>
+#endif
 #include <unistd.h>
 #include <sys/mman.h>
 #include <sys/stat.h>
diff --git a/arch/sandbox/include/asm/types.h b/arch/sandbox/include/asm/types.h
index c1a5d2af..cb9235f7 100644
--- a/arch/sandbox/include/asm/types.h
+++ b/arch/sandbox/include/asm/types.h
@@ -8,7 +8,9 @@
 
 #include <asm-generic/int-ll64.h>
 
+#ifndef __HAIKU__
 typedef unsigned short umode_t;
+#endif
 
 /*
  * These aren't exported outside the kernel to avoid name space clashes
diff --git a/arch/sandbox/lib/bootm.c b/arch/sandbox/lib/bootm.c
index d1d460b8..a447a7ba 100644
--- a/arch/sandbox/lib/bootm.c
+++ b/arch/sandbox/lib/bootm.c
@@ -6,7 +6,7 @@
 
 #include <common.h>
 #include <bootstage.h>
-#include <image.h>
+#include <uimage.h>
 #include <asm/io.h>
 
 #define	LINUX_ARM_ZIMAGE_MAGIC	0x016f2818
diff --git a/arch/sh/lib/bootm.c b/arch/sh/lib/bootm.c
index dc94f837..4851d696 100644
--- a/arch/sh/lib/bootm.c
+++ b/arch/sh/lib/bootm.c
@@ -10,7 +10,7 @@
 #include <common.h>
 #include <command.h>
 #include <env.h>
-#include <image.h>
+#include <uimage.h>
 #include <asm/byteorder.h>
 #include <asm/zimage.h>
 
diff --git a/arch/x86/cpu/apollolake/spl.c b/arch/x86/cpu/apollolake/spl.c
index f2d25734..2bd896cc 100644
--- a/arch/x86/cpu/apollolake/spl.c
+++ b/arch/x86/cpu/apollolake/spl.c
@@ -9,7 +9,7 @@
 #include <binman_sym.h>
 #include <bootstage.h>
 #include <dm.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <malloc.h>
 #include <spi.h>
diff --git a/arch/x86/lib/bootm.c b/arch/x86/lib/bootm.c
index 733dd712..696c8032 100644
--- a/arch/x86/lib/bootm.c
+++ b/arch/x86/lib/bootm.c
@@ -17,7 +17,7 @@
 #include <dm/root.h>
 #include <errno.h>
 #include <fdt_support.h>
-#include <image.h>
+#include <uimage.h>
 #include <u-boot/zlib.h>
 #include <asm/bootparam.h>
 #include <asm/cpu.h>
diff --git a/arch/x86/lib/spl.c b/arch/x86/lib/spl.c
index b18c1cd6..f9c605ef 100644
--- a/arch/x86/lib/spl.c
+++ b/arch/x86/lib/spl.c
@@ -8,7 +8,7 @@
 #include <debug_uart.h>
 #include <dm.h>
 #include <hang.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <irq_func.h>
 #include <log.h>
diff --git a/arch/x86/lib/tpl.c b/arch/x86/lib/tpl.c
index b3e5f9c9..74e6e1c1 100644
--- a/arch/x86/lib/tpl.c
+++ b/arch/x86/lib/tpl.c
@@ -7,7 +7,7 @@
 #include <debug_uart.h>
 #include <dm.h>
 #include <hang.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <log.h>
 #include <spl.h>
diff --git a/arch/xtensa/lib/bootm.c b/arch/xtensa/lib/bootm.c
index bb1e2886..460e05e5 100644
--- a/arch/xtensa/lib/bootm.c
+++ b/arch/xtensa/lib/bootm.c
@@ -15,7 +15,7 @@
 #include <asm/addrspace.h>
 #include <asm/bootparam.h>
 #include <asm/cache.h>
-#include <image.h>
+#include <uimage.h>
 
 DECLARE_GLOBAL_DATA_PTR;
 
diff --git a/board/AndesTech/ax25-ae350/ax25-ae350.c b/board/AndesTech/ax25-ae350/ax25-ae350.c
index 81b0ee99..2d40a4da 100644
--- a/board/AndesTech/ax25-ae350/ax25-ae350.c
+++ b/board/AndesTech/ax25-ae350/ax25-ae350.c
@@ -6,7 +6,7 @@
 
 #include <common.h>
 #include <flash.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <net.h>
 #if defined(CONFIG_FTMAC100) && !defined(CONFIG_DM_ETH)
diff --git a/board/advantech/imx8qm_rom7720_a1/spl.c b/board/advantech/imx8qm_rom7720_a1/spl.c
index 8493bb01..6a441b25 100644
--- a/board/advantech/imx8qm_rom7720_a1/spl.c
+++ b/board/advantech/imx8qm_rom7720_a1/spl.c
@@ -4,7 +4,7 @@
  */
 #include <common.h>
 #include <dm.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <log.h>
 #include <spl.h>
diff --git a/board/aristainetos/aristainetos.c b/board/aristainetos/aristainetos.c
index f13fa116..ee451365 100644
--- a/board/aristainetos/aristainetos.c
+++ b/board/aristainetos/aristainetos.c
@@ -10,7 +10,7 @@
  */
 
 #include <command.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <asm/arch/clock.h>
 #include <asm/arch/imx-regs.h>
diff --git a/board/beacon/imx8mn/spl.c b/board/beacon/imx8mn/spl.c
index b5263ccf..3d4fc564 100644
--- a/board/beacon/imx8mn/spl.c
+++ b/board/beacon/imx8mn/spl.c
@@ -5,7 +5,7 @@
 
 #include <common.h>
 #include <hang.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <log.h>
 #include <asm/io.h>
diff --git a/board/compulab/imx8mm-cl-iot-gate/spl.c b/board/compulab/imx8mm-cl-iot-gate/spl.c
index 8f592457..b77ccee4 100644
--- a/board/compulab/imx8mm-cl-iot-gate/spl.c
+++ b/board/compulab/imx8mm-cl-iot-gate/spl.c
@@ -8,7 +8,7 @@
 #include <command.h>
 #include <cpu_func.h>
 #include <hang.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <log.h>
 #include <spl.h>
diff --git a/board/dhelectronics/dh_imx6/dh_imx6.c b/board/dhelectronics/dh_imx6/dh_imx6.c
index 2969e90a..bffd60a0 100644
--- a/board/dhelectronics/dh_imx6/dh_imx6.c
+++ b/board/dhelectronics/dh_imx6/dh_imx6.c
@@ -8,7 +8,7 @@
 #include <common.h>
 #include <dm.h>
 #include <eeprom.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <net.h>
 #include <asm/global_data.h>
diff --git a/board/emulation/qemu-riscv/qemu-riscv.c b/board/emulation/qemu-riscv/qemu-riscv.c
index dcfd3f20..ccc365c4 100644
--- a/board/emulation/qemu-riscv/qemu-riscv.c
+++ b/board/emulation/qemu-riscv/qemu-riscv.c
@@ -7,7 +7,7 @@
 #include <dm.h>
 #include <env.h>
 #include <fdtdec.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <spl.h>
 #include <init.h>
diff --git a/board/engicam/common/spl.c b/board/engicam/common/spl.c
index 6a061248..873a70a0 100644
--- a/board/engicam/common/spl.c
+++ b/board/engicam/common/spl.c
@@ -6,7 +6,7 @@
  */
 
 #include <common.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <serial.h>
 #include <spl.h>
diff --git a/board/freescale/corenet_ds/corenet_ds.c b/board/freescale/corenet_ds/corenet_ds.c
index 3a83e65f..4690aca3 100644
--- a/board/freescale/corenet_ds/corenet_ds.c
+++ b/board/freescale/corenet_ds/corenet_ds.c
@@ -7,7 +7,7 @@
 #include <command.h>
 #include <env.h>
 #include <fdt_support.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <netdev.h>
 #include <asm/global_data.h>
diff --git a/board/freescale/imx8mm_evk/spl.c b/board/freescale/imx8mm_evk/spl.c
index 4ef7f6f1..4372545b 100644
--- a/board/freescale/imx8mm_evk/spl.c
+++ b/board/freescale/imx8mm_evk/spl.c
@@ -7,7 +7,7 @@
 #include <command.h>
 #include <cpu_func.h>
 #include <hang.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <log.h>
 #include <spl.h>
diff --git a/board/freescale/imx8mn_evk/spl.c b/board/freescale/imx8mn_evk/spl.c
index 03f2a56e..4b3b58b4 100644
--- a/board/freescale/imx8mn_evk/spl.c
+++ b/board/freescale/imx8mn_evk/spl.c
@@ -8,7 +8,7 @@
 #include <command.h>
 #include <cpu_func.h>
 #include <hang.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <log.h>
 #include <spl.h>
diff --git a/board/freescale/imx8mq_evk/spl.c b/board/freescale/imx8mq_evk/spl.c
index e8e0efe4..e33a16bd 100644
--- a/board/freescale/imx8mq_evk/spl.c
+++ b/board/freescale/imx8mq_evk/spl.c
@@ -7,7 +7,7 @@
 
 #include <common.h>
 #include <hang.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <log.h>
 #include <asm/global_data.h>
diff --git a/board/freescale/imx8qm_mek/spl.c b/board/freescale/imx8qm_mek/spl.c
index 944ba745..7d5d884b 100644
--- a/board/freescale/imx8qm_mek/spl.c
+++ b/board/freescale/imx8qm_mek/spl.c
@@ -6,7 +6,7 @@
 
 #include <common.h>
 #include <dm.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <log.h>
 #include <spl.h>
diff --git a/board/freescale/imx8qxp_mek/spl.c b/board/freescale/imx8qxp_mek/spl.c
index ae6b64ff..c1b35d58 100644
--- a/board/freescale/imx8qxp_mek/spl.c
+++ b/board/freescale/imx8qxp_mek/spl.c
@@ -6,7 +6,7 @@
 
 #include <common.h>
 #include <dm.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <log.h>
 #include <spl.h>
diff --git a/board/freescale/mx6sabreauto/mx6sabreauto.c b/board/freescale/mx6sabreauto/mx6sabreauto.c
index e92ef26d..ed2dc145 100644
--- a/board/freescale/mx6sabreauto/mx6sabreauto.c
+++ b/board/freescale/mx6sabreauto/mx6sabreauto.c
@@ -6,7 +6,7 @@
  */
 
 #include <common.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <net.h>
 #include <asm/global_data.h>
diff --git a/board/freescale/mx6sabresd/mx6sabresd.c b/board/freescale/mx6sabresd/mx6sabresd.c
index 8c352308..d249645b 100644
--- a/board/freescale/mx6sabresd/mx6sabresd.c
+++ b/board/freescale/mx6sabresd/mx6sabresd.c
@@ -5,7 +5,7 @@
  * Author: Fabio Estevam <fabio.estevam@freescale.com>
  */
 
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <net.h>
 #include <asm/arch/clock.h>
diff --git a/board/freescale/p1010rdb/p1010rdb.c b/board/freescale/p1010rdb/p1010rdb.c
index 84fc891b..c8960e7f 100644
--- a/board/freescale/p1010rdb/p1010rdb.c
+++ b/board/freescale/p1010rdb/p1010rdb.c
@@ -6,7 +6,7 @@
 
 #include <common.h>
 #include <command.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <net.h>
 #include <asm/global_data.h>
diff --git a/board/freescale/p1_p2_rdb_pc/p1_p2_rdb_pc.c b/board/freescale/p1_p2_rdb_pc/p1_p2_rdb_pc.c
index 19ece122..4d3d62be 100644
--- a/board/freescale/p1_p2_rdb_pc/p1_p2_rdb_pc.c
+++ b/board/freescale/p1_p2_rdb_pc/p1_p2_rdb_pc.c
@@ -9,7 +9,7 @@
 #include <env.h>
 #include <hang.h>
 #include <hwconfig.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <net.h>
 #include <pci.h>
diff --git a/board/freescale/p2041rdb/p2041rdb.c b/board/freescale/p2041rdb/p2041rdb.c
index 4ece1e6e..b2bda112 100644
--- a/board/freescale/p2041rdb/p2041rdb.c
+++ b/board/freescale/p2041rdb/p2041rdb.c
@@ -7,7 +7,7 @@
 #include <command.h>
 #include <env.h>
 #include <fdt_support.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <netdev.h>
 #include <asm/global_data.h>
diff --git a/board/freescale/t102xrdb/t102xrdb.c b/board/freescale/t102xrdb/t102xrdb.c
index 51a36abe..ffc1cb56 100644
--- a/board/freescale/t102xrdb/t102xrdb.c
+++ b/board/freescale/t102xrdb/t102xrdb.c
@@ -9,7 +9,7 @@
 #include <env.h>
 #include <fdt_support.h>
 #include <i2c.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <netdev.h>
 #include <asm/global_data.h>
diff --git a/board/freescale/t104xrdb/t104xrdb.c b/board/freescale/t104xrdb/t104xrdb.c
index 78004348..d897f99f 100644
--- a/board/freescale/t104xrdb/t104xrdb.c
+++ b/board/freescale/t104xrdb/t104xrdb.c
@@ -8,7 +8,7 @@
 #include <env.h>
 #include <fdt_support.h>
 #include <hwconfig.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <log.h>
 #include <netdev.h>
diff --git a/board/freescale/t208xqds/t208xqds.c b/board/freescale/t208xqds/t208xqds.c
index 715de106..75ce584e 100644
--- a/board/freescale/t208xqds/t208xqds.c
+++ b/board/freescale/t208xqds/t208xqds.c
@@ -9,7 +9,7 @@
 #include <env.h>
 #include <fdt_support.h>
 #include <i2c.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <log.h>
 #include <netdev.h>
diff --git a/board/freescale/t208xrdb/t208xrdb.c b/board/freescale/t208xrdb/t208xrdb.c
index 73ebb4a5..da13caac 100644
--- a/board/freescale/t208xrdb/t208xrdb.c
+++ b/board/freescale/t208xrdb/t208xrdb.c
@@ -9,7 +9,7 @@
 #include <env.h>
 #include <fdt_support.h>
 #include <i2c.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <netdev.h>
 #include <asm/global_data.h>
diff --git a/board/freescale/t4rdb/t4240rdb.c b/board/freescale/t4rdb/t4240rdb.c
index 20ce7523..40642bf8 100644
--- a/board/freescale/t4rdb/t4240rdb.c
+++ b/board/freescale/t4rdb/t4240rdb.c
@@ -8,7 +8,7 @@
 #include <env.h>
 #include <fdt_support.h>
 #include <i2c.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <netdev.h>
 #include <asm/global_data.h>
diff --git a/board/gateworks/venice/spl.c b/board/gateworks/venice/spl.c
index b819c684..29427aa0 100644
--- a/board/gateworks/venice/spl.c
+++ b/board/gateworks/venice/spl.c
@@ -7,7 +7,7 @@
 #include <cpu_func.h>
 #include <hang.h>
 #include <i2c.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <log.h>
 #include <spl.h>
diff --git a/board/ge/bx50v3/bx50v3.c b/board/ge/bx50v3/bx50v3.c
index 7fcebba0..cce4d198 100644
--- a/board/ge/bx50v3/bx50v3.c
+++ b/board/ge/bx50v3/bx50v3.c
@@ -5,7 +5,7 @@
  * Copyright 2012 Freescale Semiconductor, Inc.
  */
 
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <asm/arch/clock.h>
 #include <asm/arch/imx-regs.h>
diff --git a/board/keymile/kmcent2/kmcent2.c b/board/keymile/kmcent2/kmcent2.c
index 4f5164e6..66cf370e 100644
--- a/board/keymile/kmcent2/kmcent2.c
+++ b/board/keymile/kmcent2/kmcent2.c
@@ -18,7 +18,7 @@
 #include <fdt_support.h>
 #include <fm_eth.h>
 #include <hwconfig.h>
-#include <image.h>
+#include <uimage.h>
 #include <linux/compiler.h>
 #include <net.h>
 #include <netdev.h>
diff --git a/board/liebherr/display5/spl.c b/board/liebherr/display5/spl.c
index 39f70f57..f0da2061 100644
--- a/board/liebherr/display5/spl.c
+++ b/board/liebherr/display5/spl.c
@@ -7,7 +7,7 @@
 #include <common.h>
 #include <cpu_func.h>
 #include <env.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <log.h>
 #include <serial.h>
diff --git a/board/liebherr/mccmon6/spl.c b/board/liebherr/mccmon6/spl.c
index 56eae3b4..13cf732e 100644
--- a/board/liebherr/mccmon6/spl.c
+++ b/board/liebherr/mccmon6/spl.c
@@ -5,7 +5,7 @@
  *         Richard Hu <hakahu@gmail.com>
  */
 
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <asm/arch/clock.h>
 #include <asm/arch/imx-regs.h>
diff --git a/board/mscc/jr2/jr2.c b/board/mscc/jr2/jr2.c
index 1c516aac..6544625e 100644
--- a/board/mscc/jr2/jr2.c
+++ b/board/mscc/jr2/jr2.c
@@ -4,7 +4,7 @@
  */
 
 #include <common.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <asm/io.h>
 #include <led.h>
diff --git a/board/mscc/luton/luton.c b/board/mscc/luton/luton.c
index 038902d0..892d6fb5 100644
--- a/board/mscc/luton/luton.c
+++ b/board/mscc/luton/luton.c
@@ -4,7 +4,7 @@
  */
 
 #include <common.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <asm/global_data.h>
 #include <asm/io.h>
diff --git a/board/mscc/ocelot/ocelot.c b/board/mscc/ocelot/ocelot.c
index c462890b..fb610093 100644
--- a/board/mscc/ocelot/ocelot.c
+++ b/board/mscc/ocelot/ocelot.c
@@ -4,7 +4,7 @@
  */
 
 #include <common.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <log.h>
 #include <asm/global_data.h>
diff --git a/board/mscc/serval/serval.c b/board/mscc/serval/serval.c
index 94c1c42b..071c1631 100644
--- a/board/mscc/serval/serval.c
+++ b/board/mscc/serval/serval.c
@@ -4,7 +4,7 @@
  */
 
 #include <common.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <asm/global_data.h>
 #include <asm/io.h>
diff --git a/board/mscc/servalt/servalt.c b/board/mscc/servalt/servalt.c
index 252d8e31..29214298 100644
--- a/board/mscc/servalt/servalt.c
+++ b/board/mscc/servalt/servalt.c
@@ -4,7 +4,7 @@
  */
 
 #include <common.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <asm/global_data.h>
 #include <asm/io.h>
diff --git a/board/renesas/rcar-common/gen3-spl.c b/board/renesas/rcar-common/gen3-spl.c
index b02a946a..2f88e070 100644
--- a/board/renesas/rcar-common/gen3-spl.c
+++ b/board/renesas/rcar-common/gen3-spl.c
@@ -7,7 +7,7 @@
 
 #include <common.h>
 #include <cpu_func.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <log.h>
 #include <asm/io.h>
diff --git a/board/renesas/salvator-x/salvator-x.c b/board/renesas/salvator-x/salvator-x.c
index d4752e57..fa6d49da 100644
--- a/board/renesas/salvator-x/salvator-x.c
+++ b/board/renesas/salvator-x/salvator-x.c
@@ -9,7 +9,7 @@
 
 #include <common.h>
 #include <cpu_func.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <malloc.h>
 #include <netdev.h>
diff --git a/board/renesas/ulcb/ulcb.c b/board/renesas/ulcb/ulcb.c
index 4626d223..6ec0142d 100644
--- a/board/renesas/ulcb/ulcb.c
+++ b/board/renesas/ulcb/ulcb.c
@@ -7,7 +7,7 @@
  */
 
 #include <common.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <malloc.h>
 #include <netdev.h>
diff --git a/board/solidrun/mx6cuboxi/mx6cuboxi.c b/board/solidrun/mx6cuboxi/mx6cuboxi.c
index 6207bf82..8700bee7 100644
--- a/board/solidrun/mx6cuboxi/mx6cuboxi.c
+++ b/board/solidrun/mx6cuboxi/mx6cuboxi.c
@@ -14,7 +14,7 @@
  */
 
 #include <common.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <log.h>
 #include <asm/arch/clock.h>
diff --git a/board/sunxi/board.c b/board/sunxi/board.c
index 1a46100e..05272596 100644
--- a/board/sunxi/board.c
+++ b/board/sunxi/board.c
@@ -14,7 +14,7 @@
 #include <dm.h>
 #include <env.h>
 #include <hang.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <log.h>
 #include <mmc.h>
diff --git a/board/synopsys/hsdk/hsdk.c b/board/synopsys/hsdk/hsdk.c
index 892b94bb..0ffd2ff1 100644
--- a/board/synopsys/hsdk/hsdk.c
+++ b/board/synopsys/hsdk/hsdk.c
@@ -9,7 +9,7 @@
 #include <config.h>
 #include <cpu_func.h>
 #include <env.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <irq_func.h>
 #include <log.h>
diff --git a/board/technexion/pico-imx6/spl.c b/board/technexion/pico-imx6/spl.c
index 3b36bb8d..9453abe6 100644
--- a/board/technexion/pico-imx6/spl.c
+++ b/board/technexion/pico-imx6/spl.c
@@ -7,7 +7,7 @@
  */
 
 #include <common.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <asm/arch/clock.h>
 #include <asm/arch/imx-regs.h>
diff --git a/board/ti/am335x/board.c b/board/ti/am335x/board.c
index 2e4f3d10..9ef8e7ae 100644
--- a/board/ti/am335x/board.c
+++ b/board/ti/am335x/board.c
@@ -11,7 +11,7 @@
 #include <dm.h>
 #include <env.h>
 #include <errno.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <malloc.h>
 #include <net.h>
diff --git a/board/ti/am43xx/board.c b/board/ti/am43xx/board.c
index a71b588e..091974a1 100644
--- a/board/ti/am43xx/board.c
+++ b/board/ti/am43xx/board.c
@@ -9,7 +9,7 @@
 
 #include <common.h>
 #include <eeprom.h>
-#include <image.h>
+#include <uimage.h>
 #include <asm/global_data.h>
 #include <dm/uclass.h>
 #include <env.h>
diff --git a/board/ti/am57xx/board.c b/board/ti/am57xx/board.c
index 399a2e5d..4a958a0a 100644
--- a/board/ti/am57xx/board.c
+++ b/board/ti/am57xx/board.c
@@ -11,7 +11,7 @@
 #include <env.h>
 #include <fastboot.h>
 #include <fdt_support.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <malloc.h>
 #include <net.h>
diff --git a/board/ti/am65x/evm.c b/board/ti/am65x/evm.c
index fbe33cbe..0cbe295d 100644
--- a/board/ti/am65x/evm.c
+++ b/board/ti/am65x/evm.c
@@ -10,7 +10,7 @@
 #include <common.h>
 #include <dm.h>
 #include <fdt_support.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <net.h>
 #include <asm/arch/sys_proto.h>
diff --git a/board/ti/dra7xx/evm.c b/board/ti/dra7xx/evm.c
index 23e80059..8a36fe55 100644
--- a/board/ti/dra7xx/evm.c
+++ b/board/ti/dra7xx/evm.c
@@ -13,7 +13,7 @@
 #include <env.h>
 #include <fdt_support.h>
 #include <fastboot.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <spl.h>
 #include <net.h>
diff --git a/board/ti/j721e/evm.c b/board/ti/j721e/evm.c
index 077d8342..c8f65da3 100644
--- a/board/ti/j721e/evm.c
+++ b/board/ti/j721e/evm.c
@@ -11,7 +11,7 @@
 #include <env.h>
 #include <fdt_support.h>
 #include <generic-phy.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <log.h>
 #include <net.h>
diff --git a/board/ti/ks2_evm/board.c b/board/ti/ks2_evm/board.c
index 0c5c2c91..76a54c8a 100644
--- a/board/ti/ks2_evm/board.c
+++ b/board/ti/ks2_evm/board.c
@@ -11,7 +11,7 @@
 #include "board.h"
 #include <env.h>
 #include <hang.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <spl.h>
 #include <exports.h>
diff --git a/board/ti/ks2_evm/board_k2e.c b/board/ti/ks2_evm/board_k2e.c
index 39abb24e..9ef4958b 100644
--- a/board/ti/ks2_evm/board_k2e.c
+++ b/board/ti/ks2_evm/board_k2e.c
@@ -7,7 +7,7 @@
  */
 
 #include <common.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <asm/arch/ddr3.h>
 #include <asm/arch/hardware.h>
diff --git a/board/ti/ks2_evm/board_k2g.c b/board/ti/ks2_evm/board_k2g.c
index 5229afad..406d1ee4 100644
--- a/board/ti/ks2_evm/board_k2g.c
+++ b/board/ti/ks2_evm/board_k2g.c
@@ -9,7 +9,7 @@
 #include <eeprom.h>
 #include <env.h>
 #include <hang.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <asm/arch/clock.h>
 #include <asm/ti-common/keystone_net.h>
diff --git a/board/ti/ks2_evm/board_k2hk.c b/board/ti/ks2_evm/board_k2hk.c
index 12c4649c..b639540c 100644
--- a/board/ti/ks2_evm/board_k2hk.c
+++ b/board/ti/ks2_evm/board_k2hk.c
@@ -7,7 +7,7 @@
  */
 
 #include <common.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <asm/arch/clock.h>
 #include <asm/arch/hardware.h>
diff --git a/board/ti/ks2_evm/board_k2l.c b/board/ti/ks2_evm/board_k2l.c
index f759ee36..7e74e176 100644
--- a/board/ti/ks2_evm/board_k2l.c
+++ b/board/ti/ks2_evm/board_k2l.c
@@ -7,7 +7,7 @@
  */
 
 #include <common.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <asm/arch/ddr3.h>
 #include <asm/arch/hardware.h>
diff --git a/board/toradex/apalis_imx6/apalis_imx6.c b/board/toradex/apalis_imx6/apalis_imx6.c
index 74060daa..1f5500d4 100644
--- a/board/toradex/apalis_imx6/apalis_imx6.c
+++ b/board/toradex/apalis_imx6/apalis_imx6.c
@@ -9,7 +9,7 @@
 #include <common.h>
 #include <cpu_func.h>
 #include <dm.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <net.h>
 #include <asm/global_data.h>
diff --git a/board/toradex/verdin-imx8mm/spl.c b/board/toradex/verdin-imx8mm/spl.c
index 97d6a31d..9b5ba93b 100644
--- a/board/toradex/verdin-imx8mm/spl.c
+++ b/board/toradex/verdin-imx8mm/spl.c
@@ -5,7 +5,7 @@
 
 #include <common.h>
 #include <command.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <log.h>
 #include <asm/arch/clock.h>
diff --git a/board/wandboard/wandboard.c b/board/wandboard/wandboard.c
index da995dd0..66b9027c 100644
--- a/board/wandboard/wandboard.c
+++ b/board/wandboard/wandboard.c
@@ -7,7 +7,7 @@
  */
 
 #include <common.h>
-#include <image.h>
+#include <uimage.h>
 #include <init.h>
 #include <log.h>
 #include <asm/arch/clock.h>
diff --git a/board/xilinx/zynqmp/zynqmp.c b/board/xilinx/zynqmp/zynqmp.c
index ea15e62e..f08c82a7 100644
--- a/board/xilinx/zynqmp/zynqmp.c
+++ b/board/xilinx/zynqmp/zynqmp.c
@@ -12,7 +12,7 @@
 #include <env.h>
 #include <env_internal.h>
 #include <init.h>
-#include <image.h>
+#include <uimage.h>
 #include <lmb.h>
 #include <log.h>
 #include <net.h>
diff --git a/cmd/abootimg.c b/cmd/abootimg.c
index f48a9dcb..99403dd5 100644
--- a/cmd/abootimg.c
+++ b/cmd/abootimg.c
@@ -7,7 +7,7 @@
 #include <android_image.h>
 #include <common.h>
 #include <command.h>
-#include <image.h>
+#include <uimage.h>
 #include <mapmem.h>
 
 #define abootimg_addr() \
diff --git a/cmd/avb.c b/cmd/avb.c
index 783f51b8..9f7a68a4 100644
--- a/cmd/avb.c
+++ b/cmd/avb.c
@@ -8,7 +8,7 @@
 #include <avb_verify.h>
 #include <command.h>
 #include <env.h>
-#include <image.h>
+#include <uimage.h>
 #include <malloc.h>
 #include <mmc.h>
 
diff --git a/cmd/bmp.c b/cmd/bmp.c
index 071ba90b..63108ceb 100644
--- a/cmd/bmp.c
+++ b/cmd/bmp.c
@@ -13,7 +13,7 @@
 #include <command.h>
 #include <dm.h>
 #include <gzip.h>
-#include <image.h>
+#include <uimage.h>
 #include <lcd.h>
 #include <log.h>
 #include <malloc.h>
diff --git a/cmd/bootefi.c b/cmd/bootefi.c
index 83eab0bd..935f08eb 100644
--- a/cmd/bootefi.c
+++ b/cmd/bootefi.c
@@ -16,7 +16,7 @@
 #include <efi_selftest.h>
 #include <env.h>
 #include <errno.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <malloc.h>
 #include <asm/global_data.h>
diff --git a/cmd/booti.c b/cmd/booti.c
index 397d4b83..407144c1 100644
--- a/cmd/booti.c
+++ b/cmd/booti.c
@@ -7,7 +7,7 @@
 #include <common.h>
 #include <bootm.h>
 #include <command.h>
-#include <image.h>
+#include <uimage.h>
 #include <irq_func.h>
 #include <lmb.h>
 #include <log.h>
diff --git a/cmd/bootm.c b/cmd/bootm.c
index 92468d09..c73a2fac 100644
--- a/cmd/bootm.c
+++ b/cmd/bootm.c
@@ -12,7 +12,7 @@
 #include <command.h>
 #include <env.h>
 #include <errno.h>
-#include <image.h>
+#include <uimage.h>
 #include <malloc.h>
 #include <nand.h>
 #include <asm/byteorder.h>
diff --git a/cmd/bootz.c b/cmd/bootz.c
index 4f024bde..f46fd0e0 100644
--- a/cmd/bootz.c
+++ b/cmd/bootz.c
@@ -7,7 +7,7 @@
 #include <common.h>
 #include <bootm.h>
 #include <command.h>
-#include <image.h>
+#include <uimage.h>
 #include <irq_func.h>
 #include <lmb.h>
 #include <log.h>
diff --git a/cmd/cramfs.c b/cmd/cramfs.c
index 44c0818d..e09a1e09 100644
--- a/cmd/cramfs.c
+++ b/cmd/cramfs.c
@@ -13,7 +13,7 @@
 #include <common.h>
 #include <command.h>
 #include <env.h>
-#include <image.h>
+#include <uimage.h>
 #include <malloc.h>
 #include <mapmem.h>
 #include <linux/list.h>
diff --git a/cmd/disk.c b/cmd/disk.c
index cb3b990b..715486e1 100644
--- a/cmd/disk.c
+++ b/cmd/disk.c
@@ -7,7 +7,7 @@
 #include <bootstage.h>
 #include <command.h>
 #include <cpu_func.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <part.h>
 
diff --git a/cmd/elf.c b/cmd/elf.c
index d75b2146..96e1e3b4 100644
--- a/cmd/elf.c
+++ b/cmd/elf.c
@@ -9,7 +9,7 @@
 #include <cpu_func.h>
 #include <elf.h>
 #include <env.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <net.h>
 #include <vxworks.h>
diff --git a/cmd/ext4.c b/cmd/ext4.c
index 4791b69f..5866478e 100644
--- a/cmd/ext4.c
+++ b/cmd/ext4.c
@@ -29,7 +29,7 @@
 #include <part.h>
 #include <config.h>
 #include <command.h>
-#include <image.h>
+#include <uimage.h>
 #include <linux/ctype.h>
 #include <asm/byteorder.h>
 #include <ext4fs.h>
diff --git a/cmd/fdt.c b/cmd/fdt.c
index c42f1c79..b0afcb63 100644
--- a/cmd/fdt.c
+++ b/cmd/fdt.c
@@ -10,7 +10,7 @@
 #include <common.h>
 #include <command.h>
 #include <env.h>
-#include <image.h>
+#include <uimage.h>
 #include <linux/ctype.h>
 #include <linux/types.h>
 #include <asm/global_data.h>
diff --git a/cmd/fpga.c b/cmd/fpga.c
index 3fdd0b35..493cfe76 100644
--- a/cmd/fpga.c
+++ b/cmd/fpga.c
@@ -13,7 +13,7 @@
 #include <fpga.h>
 #include <fs.h>
 #include <gzip.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <malloc.h>
 
diff --git a/cmd/ide.c b/cmd/ide.c
index b78c38e1..2c7db799 100644
--- a/cmd/ide.c
+++ b/cmd/ide.c
@@ -13,7 +13,7 @@
 #include <config.h>
 #include <watchdog.h>
 #include <command.h>
-#include <image.h>
+#include <uimage.h>
 #include <asm/byteorder.h>
 #include <asm/io.h>
 
diff --git a/cmd/jffs2.c b/cmd/jffs2.c
index 63bd5526..c9bd516c 100644
--- a/cmd/jffs2.c
+++ b/cmd/jffs2.c
@@ -74,7 +74,7 @@
 #include <command.h>
 #include <env.h>
 #include <flash.h>
-#include <image.h>
+#include <uimage.h>
 #include <malloc.h>
 #include <jffs2/jffs2.h>
 #include <linux/bug.h>
diff --git a/cmd/load.c b/cmd/load.c
index 381ed1b3..9a6578cb 100644
--- a/cmd/load.c
+++ b/cmd/load.c
@@ -15,7 +15,7 @@
 #include <env.h>
 #include <exports.h>
 #include <flash.h>
-#include <image.h>
+#include <uimage.h>
 #include <mapmem.h>
 #include <net.h>
 #include <s_record.h>
diff --git a/cmd/md5sum.c b/cmd/md5sum.c
index 0f0e1d3d..a46d6f9f 100644
--- a/cmd/md5sum.c
+++ b/cmd/md5sum.c
@@ -10,7 +10,7 @@
 #include <common.h>
 #include <command.h>
 #include <env.h>
-#include <image.h>
+#include <uimage.h>
 #include <mapmem.h>
 #include <u-boot/md5.h>
 #include <asm/io.h>
diff --git a/cmd/mvebu/bubt.c b/cmd/mvebu/bubt.c
index d4f381b6..2d5fc69a 100644
--- a/cmd/mvebu/bubt.c
+++ b/cmd/mvebu/bubt.c
@@ -9,7 +9,7 @@
 #include <command.h>
 #include <env.h>
 #include <flash.h>
-#include <image.h>
+#include <uimage.h>
 #include <net.h>
 #include <vsprintf.h>
 #include <errno.h>
diff --git a/cmd/nand.c b/cmd/nand.c
index d381053c..f57c020b 100644
--- a/cmd/nand.c
+++ b/cmd/nand.c
@@ -21,7 +21,7 @@
 
 #include <common.h>
 #include <bootstage.h>
-#include <image.h>
+#include <uimage.h>
 #include <asm/cache.h>
 #include <linux/mtd/mtd.h>
 #include <command.h>
diff --git a/cmd/net.c b/cmd/net.c
index 651c1411..73fd39e2 100644
--- a/cmd/net.c
+++ b/cmd/net.c
@@ -12,7 +12,7 @@
 #include <command.h>
 #include <dm.h>
 #include <env.h>
-#include <image.h>
+#include <uimage.h>
 #include <net.h>
 #include <net/udp.h>
 #include <net/sntp.h>
diff --git a/cmd/optee_rpmb.c b/cmd/optee_rpmb.c
index e0e44bbe..e74332b1 100644
--- a/cmd/optee_rpmb.c
+++ b/cmd/optee_rpmb.c
@@ -7,7 +7,7 @@
 #include <common.h>
 #include <env.h>
 #include <errno.h>
-#include <image.h>
+#include <uimage.h>
 #include <malloc.h>
 #include <mmc.h>
 #include <tee.h>
diff --git a/cmd/pxe_utils.c b/cmd/pxe_utils.c
index 067c24e5..a7321009 100644
--- a/cmd/pxe_utils.c
+++ b/cmd/pxe_utils.c
@@ -7,7 +7,7 @@
 #include <common.h>
 #include <command.h>
 #include <env.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <malloc.h>
 #include <mapmem.h>
diff --git a/cmd/reiser.c b/cmd/reiser.c
index 707167fc..e6ac5205 100644
--- a/cmd/reiser.c
+++ b/cmd/reiser.c
@@ -12,7 +12,7 @@
 #include <config.h>
 #include <command.h>
 #include <env.h>
-#include <image.h>
+#include <uimage.h>
 #include <linux/ctype.h>
 #include <asm/byteorder.h>
 #include <reiserfs.h>
diff --git a/cmd/source.c b/cmd/source.c
index 81e015b6..2c31c0e8 100644
--- a/cmd/source.c
+++ b/cmd/source.c
@@ -17,7 +17,7 @@
 #include <common.h>
 #include <command.h>
 #include <env.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <malloc.h>
 #include <mapmem.h>
diff --git a/cmd/spl.c b/cmd/spl.c
index 472703f8..52752880 100644
--- a/cmd/spl.c
+++ b/cmd/spl.c
@@ -8,7 +8,7 @@
 #include <command.h>
 #include <cmd_spl.h>
 #include <env.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <asm/global_data.h>
 #include <linux/libfdt.h>
diff --git a/cmd/ximg.c b/cmd/ximg.c
index 65ba4132..bddda5cc 100644
--- a/cmd/ximg.c
+++ b/cmd/ximg.c
@@ -16,7 +16,7 @@
 #include <cpu_func.h>
 #include <env.h>
 #include <gzip.h>
-#include <image.h>
+#include <uimage.h>
 #include <malloc.h>
 #include <mapmem.h>
 #include <watchdog.h>
diff --git a/cmd/zfs.c b/cmd/zfs.c
index 6ef1b56a..51c530ad 100644
--- a/cmd/zfs.c
+++ b/cmd/zfs.c
@@ -13,7 +13,7 @@
 #include <config.h>
 #include <command.h>
 #include <env.h>
-#include <image.h>
+#include <uimage.h>
 #include <linux/ctype.h>
 #include <asm/byteorder.h>
 #include <zfs_common.h>
diff --git a/common/avb_verify.c b/common/avb_verify.c
index 0520a714..96853e54 100644
--- a/common/avb_verify.c
+++ b/common/avb_verify.c
@@ -7,7 +7,7 @@
 #include <avb_verify.h>
 #include <blk.h>
 #include <cpu_func.h>
-#include <image.h>
+#include <uimage.h>
 #include <malloc.h>
 #include <part.h>
 #include <tee.h>
diff --git a/common/board_r.c b/common/board_r.c
index 630c2451..e7fc3386 100644
--- a/common/board_r.c
+++ b/common/board_r.c
@@ -16,7 +16,7 @@
 #include <exports.h>
 #include <flash.h>
 #include <hang.h>
-#include <image.h>
+#include <uimage.h>
 #include <irq_func.h>
 #include <log.h>
 #include <net.h>
diff --git a/common/boot_fit.c b/common/boot_fit.c
index dfc2a311..39fb276a 100644
--- a/common/boot_fit.c
+++ b/common/boot_fit.c
@@ -9,7 +9,7 @@
 #include <boot_fit.h>
 #include <common.h>
 #include <errno.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <linux/libfdt.h>
 
diff --git a/common/bootm.c b/common/bootm.c
index ea71522d..311ea9df 100644
--- a/common/bootm.c
+++ b/common/bootm.c
@@ -31,7 +31,7 @@
 
 #include <command.h>
 #include <bootm.h>
-#include <image.h>
+#include <uimage.h>
 
 #ifndef CONFIG_SYS_BOOTM_LEN
 /* use 8MByte as default max gunzip size */
diff --git a/common/bootm_os.c b/common/bootm_os.c
index d6350370..bd907c7e 100644
--- a/common/bootm_os.c
+++ b/common/bootm_os.c
@@ -11,7 +11,7 @@
 #include <efi_loader.h>
 #include <env.h>
 #include <fdt_support.h>
-#include <image.h>
+#include <uimage.h>
 #include <lmb.h>
 #include <log.h>
 #include <asm/global_data.h>
diff --git a/common/common_fit.c b/common/common_fit.c
index cde2dc45..fc64be3f 100644
--- a/common/common_fit.c
+++ b/common/common_fit.c
@@ -6,7 +6,7 @@
 
 #include <common.h>
 #include <errno.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <linux/libfdt.h>
 
diff --git a/common/hash.c b/common/hash.c
index 6277fe65..923842c0 100644
--- a/common/hash.c
+++ b/common/hash.c
@@ -28,7 +28,7 @@
 #endif /* !USE_HOSTCC*/
 
 #include <hash.h>
-#include <image.h>
+#include <uimage.h>
 #include <u-boot/crc.h>
 #include <u-boot/sha1.h>
 #include <u-boot/sha256.h>
diff --git a/common/image-android.c b/common/image-android.c
index 1fbbbba1..e3557283 100644
--- a/common/image-android.c
+++ b/common/image-android.c
@@ -5,7 +5,7 @@
 
 #include <common.h>
 #include <env.h>
-#include <image.h>
+#include <uimage.h>
 #include <image-android-dt.h>
 #include <android_image.h>
 #include <malloc.h>
diff --git a/common/image-cipher.c b/common/image-cipher.c
index b9061489..3f1aefcc 100644
--- a/common/image-cipher.c
+++ b/common/image-cipher.c
@@ -12,7 +12,7 @@
 #include <asm/global_data.h>
 DECLARE_GLOBAL_DATA_PTR;
 #endif /* !USE_HOSdTCC*/
-#include <image.h>
+#include <uimage.h>
 #include <uboot_aes.h>
 #include <u-boot/aes.h>
 
diff --git a/common/image-fdt.c b/common/image-fdt.c
index 9441e63a..d72d42cb 100644
--- a/common/image-fdt.c
+++ b/common/image-fdt.c
@@ -13,7 +13,7 @@
 #include <fdtdec.h>
 #include <env.h>
 #include <errno.h>
-#include <image.h>
+#include <uimage.h>
 #include <lmb.h>
 #include <log.h>
 #include <malloc.h>
diff --git a/common/image-fit-sig.c b/common/image-fit-sig.c
index b979cd2a..b55d3ad9 100644
--- a/common/image-fit-sig.c
+++ b/common/image-fit-sig.c
@@ -14,7 +14,7 @@
 DECLARE_GLOBAL_DATA_PTR;
 #endif /* !USE_HOSTCC*/
 #include <fdt_region.h>
-#include <image.h>
+#include <uimage.h>
 #include <u-boot/rsa.h>
 #include <u-boot/hash-checksum.h>
 
diff --git a/common/image-fit.c b/common/image-fit.c
index f02d4375..27f3267f 100644
--- a/common/image-fit.c
+++ b/common/image-fit.c
@@ -29,7 +29,7 @@ DECLARE_GLOBAL_DATA_PTR;
 #endif /* !USE_HOSTCC*/
 
 #include <bootm.h>
-#include <image.h>
+#include <uimage.h>
 #include <bootstage.h>
 #include <linux/kconfig.h>
 #include <u-boot/crc.h>
diff --git a/common/image-sig.c b/common/image-sig.c
index fa9407bb..9cb387c7 100644
--- a/common/image-sig.c
+++ b/common/image-sig.c
@@ -8,7 +8,7 @@
 #include <malloc.h>
 #include <asm/global_data.h>
 DECLARE_GLOBAL_DATA_PTR;
-#include <image.h>
+#include <uimage.h>
 #include <u-boot/ecdsa.h>
 #include <u-boot/rsa.h>
 #include <u-boot/hash-checksum.h>
diff --git a/common/image.c b/common/image.c
index 59c52a1f..cf0dda10 100644
--- a/common/image.c
+++ b/common/image.c
@@ -25,7 +25,7 @@
 #include <rtc.h>
 
 #include <gzip.h>
-#include <image.h>
+#include <uimage.h>
 #include <lz4.h>
 #include <mapmem.h>
 
@@ -64,7 +64,7 @@ static const image_header_t *image_get_ramdisk(ulong rd_addr, uint8_t arch,
 #include "mkimage.h"
 #include <u-boot/md5.h>
 #include <time.h>
-#include <image.h>
+#include <uimage.h>
 
 #ifndef __maybe_unused
 # define __maybe_unused		/* unimplemented */
diff --git a/common/lynxkdi.c b/common/lynxkdi.c
index 1c8e122c..f63feaf8 100644
--- a/common/lynxkdi.c
+++ b/common/lynxkdi.c
@@ -15,7 +15,7 @@
 
 #include <common.h>
 #include <asm/processor.h>
-#include <image.h>
+#include <uimage.h>
 #include <net.h>
 
 #include <lynxkdi.h>
diff --git a/common/spl/spl.c b/common/spl/spl.c
index d55d3c28..3302b67b 100644
--- a/common/spl/spl.c
+++ b/common/spl/spl.c
@@ -25,7 +25,7 @@
 #include <fat.h>
 #include <u-boot/crc.h>
 #include <version.h>
-#include <image.h>
+#include <uimage.h>
 #include <malloc.h>
 #include <mapmem.h>
 #include <dm/root.h>
diff --git a/common/spl/spl_atf.c b/common/spl/spl_atf.c
index e1b68dd5..5b654155 100644
--- a/common/spl/spl_atf.c
+++ b/common/spl/spl_atf.c
@@ -13,7 +13,7 @@
 #include <atf_common.h>
 #include <cpu_func.h>
 #include <errno.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <spl.h>
 #include <asm/cache.h>
diff --git a/common/spl/spl_ext.c b/common/spl/spl_ext.c
index d73f0627..e99d6b1d 100644
--- a/common/spl/spl_ext.c
+++ b/common/spl/spl_ext.c
@@ -7,7 +7,7 @@
 #include <asm/u-boot.h>
 #include <ext4fs.h>
 #include <errno.h>
-#include <image.h>
+#include <uimage.h>
 
 int spl_load_image_ext(struct spl_image_info *spl_image,
 		       struct blk_desc *block_dev, int partition,
diff --git a/common/spl/spl_fat.c b/common/spl/spl_fat.c
index c2eb0973..b00dd308 100644
--- a/common/spl/spl_fat.c
+++ b/common/spl/spl_fat.c
@@ -15,7 +15,7 @@
 #include <asm/u-boot.h>
 #include <fat.h>
 #include <errno.h>
-#include <image.h>
+#include <uimage.h>
 #include <linux/libfdt.h>
 
 static int fat_registered;
diff --git a/common/spl/spl_fit.c b/common/spl/spl_fit.c
index f41abca0..c05c25c5 100644
--- a/common/spl/spl_fit.c
+++ b/common/spl/spl_fit.c
@@ -8,7 +8,7 @@
 #include <errno.h>
 #include <fpga.h>
 #include <gzip.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <malloc.h>
 #include <mapmem.h>
diff --git a/common/spl/spl_legacy.c b/common/spl/spl_legacy.c
index 82d03268..39a881b1 100644
--- a/common/spl/spl_legacy.c
+++ b/common/spl/spl_legacy.c
@@ -4,7 +4,7 @@
  */
 
 #include <common.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <malloc.h>
 #include <spl.h>
diff --git a/common/spl/spl_mmc.c b/common/spl/spl_mmc.c
index 212a2b09..485a5bcc 100644
--- a/common/spl/spl_mmc.c
+++ b/common/spl/spl_mmc.c
@@ -15,7 +15,7 @@
 #include <asm/u-boot.h>
 #include <errno.h>
 #include <mmc.h>
-#include <image.h>
+#include <uimage.h>
 
 static int mmc_load_legacy(struct spl_image_info *spl_image, struct mmc *mmc,
 			   ulong sector, struct image_header *header)
diff --git a/common/spl/spl_nand.c b/common/spl/spl_nand.c
index 59f4a84a..8bd609d8 100644
--- a/common/spl/spl_nand.c
+++ b/common/spl/spl_nand.c
@@ -6,7 +6,7 @@
 #include <common.h>
 #include <config.h>
 #include <fdt_support.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <spl.h>
 #include <asm/io.h>
diff --git a/common/spl/spl_net.c b/common/spl/spl_net.c
index d23b395a..dd8d6405 100644
--- a/common/spl/spl_net.c
+++ b/common/spl/spl_net.c
@@ -9,7 +9,7 @@
 #include <common.h>
 #include <env.h>
 #include <errno.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <spl.h>
 #include <net.h>
diff --git a/common/spl/spl_nor.c b/common/spl/spl_nor.c
index 5270401d..9ac512c5 100644
--- a/common/spl/spl_nor.c
+++ b/common/spl/spl_nor.c
@@ -4,7 +4,7 @@
  */
 
 #include <common.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <spl.h>
 
diff --git a/common/spl/spl_onenand.c b/common/spl/spl_onenand.c
index 93cbf47e..bd5bf516 100644
--- a/common/spl/spl_onenand.c
+++ b/common/spl/spl_onenand.c
@@ -9,7 +9,7 @@
  */
 #include <common.h>
 #include <config.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <spl.h>
 #include <asm/io.h>
diff --git a/common/spl/spl_opensbi.c b/common/spl/spl_opensbi.c
index 1c0abf85..6a64686c 100644
--- a/common/spl/spl_opensbi.c
+++ b/common/spl/spl_opensbi.c
@@ -9,7 +9,7 @@
 #include <cpu_func.h>
 #include <errno.h>
 #include <hang.h>
-#include <image.h>
+#include <uimage.h>
 #include <spl.h>
 #include <asm/global_data.h>
 #include <asm/smp.h>
diff --git a/common/spl/spl_ram.c b/common/spl/spl_ram.c
index df1d5b43..2809ffa6 100644
--- a/common/spl/spl_ram.c
+++ b/common/spl/spl_ram.c
@@ -11,7 +11,7 @@
  */
 #include <common.h>
 #include <binman_sym.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <mapmem.h>
 #include <spl.h>
diff --git a/common/spl/spl_sata.c b/common/spl/spl_sata.c
index 535a9219..3ac3bb64 100644
--- a/common/spl/spl_sata.c
+++ b/common/spl/spl_sata.c
@@ -15,7 +15,7 @@
 #include <scsi.h>
 #include <errno.h>
 #include <fat.h>
-#include <image.h>
+#include <uimage.h>
 
 #ifndef CONFIG_SYS_SATA_FAT_BOOT_PARTITION
 #define CONFIG_SYS_SATA_FAT_BOOT_PARTITION	1
diff --git a/common/spl/spl_spi.c b/common/spl/spl_spi.c
index 9884e7c1..19e0aa74 100644
--- a/common/spl/spl_spi.c
+++ b/common/spl/spl_spi.c
@@ -9,7 +9,7 @@
  */
 
 #include <common.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <spi.h>
 #include <spi_flash.h>
diff --git a/common/spl/spl_ubi.c b/common/spl/spl_ubi.c
index de6a63bd..a799840c 100644
--- a/common/spl/spl_ubi.c
+++ b/common/spl/spl_ubi.c
@@ -6,7 +6,7 @@
 
 #include <common.h>
 #include <config.h>
-#include <image.h>
+#include <uimage.h>
 #include <nand.h>
 #include <onenand_uboot.h>
 #include <ubispl.h>
diff --git a/common/spl/spl_xip.c b/common/spl/spl_xip.c
index 8ce0a09e..b070fa4c 100644
--- a/common/spl/spl_xip.c
+++ b/common/spl/spl_xip.c
@@ -5,7 +5,7 @@
  */
 
 #include <common.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <spl.h>
 
diff --git a/common/spl/spl_ymodem.c b/common/spl/spl_ymodem.c
index e979f780..355f2561 100644
--- a/common/spl/spl_ymodem.c
+++ b/common/spl/spl_ymodem.c
@@ -10,7 +10,7 @@
  */
 #include <common.h>
 #include <gzip.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <spl.h>
 #include <xyzModem.h>
diff --git a/common/splash_source.c b/common/splash_source.c
index d05670f5..87985c4f 100644
--- a/common/splash_source.c
+++ b/common/splash_source.c
@@ -12,7 +12,7 @@
 #include <errno.h>
 #include <fs.h>
 #include <fdt_support.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <nand.h>
 #include <sata.h>
diff --git a/common/update.c b/common/update.c
index f5c8684f..c95aa423 100644
--- a/common/update.c
+++ b/common/update.c
@@ -8,7 +8,7 @@
 
 #include <common.h>
 #include <cpu_func.h>
-#include <image.h>
+#include <uimage.h>
 
 #if !(defined(CONFIG_FIT) && defined(CONFIG_OF_LIBFDT))
 #error "CONFIG_FIT and CONFIG_OF_LIBFDT are required for auto-update feature"
diff --git a/drivers/fastboot/fb_mmc.c b/drivers/fastboot/fb_mmc.c
index cbb3f7b1..a7618641 100644
--- a/drivers/fastboot/fb_mmc.c
+++ b/drivers/fastboot/fb_mmc.c
@@ -12,7 +12,7 @@
 #include <fb_mmc.h>
 #include <flash.h>
 #include <image-sparse.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <part.h>
 #include <mmc.h>
diff --git a/drivers/fpga/socfpga_arria10.c b/drivers/fpga/socfpga_arria10.c
index b992e6f0..b2463da8 100644
--- a/drivers/fpga/socfpga_arria10.c
+++ b/drivers/fpga/socfpga_arria10.c
@@ -2,7 +2,7 @@
 /*
  * Copyright (C) 2017-2019 Intel Corporation <www.intel.com>
  */
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <asm/global_data.h>
 #include <asm/io.h>
diff --git a/drivers/net/fsl-mc/mc.c b/drivers/net/fsl-mc/mc.c
index d52c986d..4e8d9db1 100644
--- a/drivers/net/fsl-mc/mc.c
+++ b/drivers/net/fsl-mc/mc.c
@@ -8,7 +8,7 @@
 #include <cpu_func.h>
 #include <env.h>
 #include <errno.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <malloc.h>
 #include <asm/global_data.h>
diff --git a/drivers/net/pfe_eth/pfe_firmware.c b/drivers/net/pfe_eth/pfe_firmware.c
index ad5bc3c8..1c0973be 100644
--- a/drivers/net/pfe_eth/pfe_firmware.c
+++ b/drivers/net/pfe_eth/pfe_firmware.c
@@ -12,7 +12,7 @@
 
 #include <dm.h>
 #include <dm/device-internal.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <malloc.h>
 #include <linux/bitops.h>
diff --git a/drivers/usb/gadget/f_sdp.c b/drivers/usb/gadget/f_sdp.c
index e48aa2f9..d658002d 100644
--- a/drivers/usb/gadget/f_sdp.c
+++ b/drivers/usb/gadget/f_sdp.c
@@ -31,7 +31,7 @@
 #include <g_dnl.h>
 #include <sdp.h>
 #include <spl.h>
-#include <image.h>
+#include <uimage.h>
 #include <imximage.h>
 #include <watchdog.h>
 
diff --git a/include/bootm.h b/include/bootm.h
index 7f88ec71..79e3f6b7 100644
--- a/include/bootm.h
+++ b/include/bootm.h
@@ -7,7 +7,7 @@
 #ifndef _BOOTM_H
 #define _BOOTM_H
 
-#include <image.h>
+#include <uimage.h>
 
 struct cmd_tbl;
 
diff --git a/include/ctype.h b/include/ctype.h
deleted file mode 120000
index 9e43f9c6..00000000
--- a/include/ctype.h
+++ /dev/null
@@ -1 +0,0 @@
-linux/ctype.h
\ No newline at end of file
diff --git a/include/efi_loader.h b/include/efi_loader.h
index c440962f..4a46572b 100644
--- a/include/efi_loader.h
+++ b/include/efi_loader.h
@@ -13,7 +13,7 @@
 #include <log.h>
 #include <part_efi.h>
 #include <efi_api.h>
-#include <image.h>
+#include <uimage.h>
 #include <pe.h>
 #include <linux/list.h>
 #include <linux/oid_registry.h>
diff --git a/include/imx8image.h b/include/imx8image.h
index 00c614ab..b5382816 100644
--- a/include/imx8image.h
+++ b/include/imx8image.h
@@ -8,7 +8,7 @@
 #ifndef _IMX8IMAGE_H_
 #define _IMX8IMAGE_H_
 
-#include <image.h>
+#include <uimage.h>
 #include <inttypes.h>
 #include "imagetool.h"
 
diff --git a/include/tee/optee.h b/include/tee/optee.h
index ebdfe5e9..897476f6 100644
--- a/include/tee/optee.h
+++ b/include/tee/optee.h
@@ -10,7 +10,7 @@
 #define _OPTEE_H
 
 #include <linux/errno.h>
-#include <image.h>
+#include <uimage.h>
 
 #define OPTEE_MAGIC             0x4554504f
 #define OPTEE_VERSION           1
diff --git a/include/u-boot/aes.h b/include/u-boot/aes.h
index acbc50b9..7efe6769 100644
--- a/include/u-boot/aes.h
+++ b/include/u-boot/aes.h
@@ -7,7 +7,7 @@
 #define _AES_H
 
 #include <errno.h>
-#include <image.h>
+#include <uimage.h>
 
 #if IMAGE_ENABLE_ENCRYPT
 int image_aes_encrypt(struct image_cipher_info *info,
diff --git a/include/u-boot/ecdsa.h b/include/u-boot/ecdsa.h
index f6951c73..bb633bba 100644
--- a/include/u-boot/ecdsa.h
+++ b/include/u-boot/ecdsa.h
@@ -7,7 +7,7 @@
 #define _ECDSA_H
 
 #include <errno.h>
-#include <image.h>
+#include <uimage.h>
 #include <linux/kconfig.h>
 
 /**
diff --git a/include/u-boot/hash-checksum.h b/include/u-boot/hash-checksum.h
index 54e6a737..891daf6b 100644
--- a/include/u-boot/hash-checksum.h
+++ b/include/u-boot/hash-checksum.h
@@ -7,7 +7,7 @@
 #define _RSA_CHECKSUM_H
 
 #include <errno.h>
-#include <image.h>
+#include <uimage.h>
 #include <u-boot/sha1.h>
 #include <u-boot/sha256.h>
 #include <u-boot/sha512.h>
diff --git a/include/u-boot/rsa-mod-exp.h b/include/u-boot/rsa-mod-exp.h
index fc9557c7..c02357e6 100644
--- a/include/u-boot/rsa-mod-exp.h
+++ b/include/u-boot/rsa-mod-exp.h
@@ -7,7 +7,7 @@
 #define _RSA_MOD_EXP_H
 
 #include <errno.h>
-#include <image.h>
+#include <uimage.h>
 
 struct udevice;
 
diff --git a/include/u-boot/rsa.h b/include/u-boot/rsa.h
index 89a9c4ca..ba1bdcd4 100644
--- a/include/u-boot/rsa.h
+++ b/include/u-boot/rsa.h
@@ -12,7 +12,7 @@
 #define _RSA_H
 
 #include <errno.h>
-#include <image.h>
+#include <uimage.h>
 
 /**
  * struct rsa_public_key - holder for a public key
diff --git a/lib/aes/aes-decrypt.c b/lib/aes/aes-decrypt.c
index 345029fa..de25f2c1 100644
--- a/lib/aes/aes-decrypt.c
+++ b/lib/aes/aes-decrypt.c
@@ -7,7 +7,7 @@
 #include <common.h>
 #include <malloc.h>
 #endif
-#include <image.h>
+#include <uimage.h>
 #include <uboot_aes.h>
 
 int image_aes_decrypt(struct image_cipher_info *info,
diff --git a/lib/aes/aes-encrypt.c b/lib/aes/aes-encrypt.c
index a6d1720f..f26fae38 100644
--- a/lib/aes/aes-encrypt.c
+++ b/lib/aes/aes-encrypt.c
@@ -5,7 +5,7 @@
 #include "mkimage.h"
 #include <stdio.h>
 #include <string.h>
-#include <image.h>
+#include <uimage.h>
 #include <time.h>
 #include <openssl/bn.h>
 #include <openssl/rsa.h>
diff --git a/lib/crypto/pkcs7_verify.c b/lib/crypto/pkcs7_verify.c
index 82c5c745..ea8a54a8 100644
--- a/lib/crypto/pkcs7_verify.c
+++ b/lib/crypto/pkcs7_verify.c
@@ -10,7 +10,7 @@
 
 #define pr_fmt(fmt) "PKCS7: "fmt
 #ifdef __UBOOT__
-#include <image.h>
+#include <uimage.h>
 #include <string.h>
 #include <linux/bitops.h>
 #include <linux/compat.h>
diff --git a/lib/crypto/public_key.c b/lib/crypto/public_key.c
index df6033cd..6a17c9fa 100644
--- a/lib/crypto/public_key.c
+++ b/lib/crypto/public_key.c
@@ -26,7 +26,7 @@
 #endif
 #include <crypto/public_key.h>
 #ifdef __UBOOT__
-#include <image.h>
+#include <uimage.h>
 #include <u-boot/rsa.h>
 #else
 #include <crypto/akcipher.h>
diff --git a/lib/crypto/x509_public_key.c b/lib/crypto/x509_public_key.c
index d557ab27..b58d2d10 100644
--- a/lib/crypto/x509_public_key.c
+++ b/lib/crypto/x509_public_key.c
@@ -8,7 +8,7 @@
 #define pr_fmt(fmt) "X.509: "fmt
 #ifdef __UBOOT__
 #include <common.h>
-#include <image.h>
+#include <uimage.h>
 #include <dm/devres.h>
 #include <linux/compat.h>
 #include <linux/err.h>
diff --git a/lib/efi_loader/efi_firmware.c b/lib/efi_loader/efi_firmware.c
index a1b88dbf..d1a67f7a 100644
--- a/lib/efi_loader/efi_firmware.c
+++ b/lib/efi_loader/efi_firmware.c
@@ -10,7 +10,7 @@
 #include <charset.h>
 #include <dfu.h>
 #include <efi_loader.h>
-#include <image.h>
+#include <uimage.h>
 #include <signatures.h>
 
 #include <linux/list.h>
diff --git a/lib/efi_loader/efi_signature.c b/lib/efi_loader/efi_signature.c
index bdd09881..1487642b 100644
--- a/lib/efi_loader/efi_signature.c
+++ b/lib/efi_loader/efi_signature.c
@@ -7,7 +7,7 @@
 #include <common.h>
 #include <charset.h>
 #include <efi_loader.h>
-#include <image.h>
+#include <uimage.h>
 #include <hexdump.h>
 #include <malloc.h>
 #include <crypto/pkcs7.h>
diff --git a/lib/gunzip.c b/lib/gunzip.c
index bee3b926..02d5d548 100644
--- a/lib/gunzip.c
+++ b/lib/gunzip.c
@@ -10,7 +10,7 @@
 #include <console.h>
 #include <div64.h>
 #include <gzip.h>
-#include <image.h>
+#include <uimage.h>
 #include <malloc.h>
 #include <memalign.h>
 #include <u-boot/crc.h>
diff --git a/lib/gzip.c b/lib/gzip.c
index c6c0ec88..9d263ae0 100644
--- a/lib/gzip.c
+++ b/lib/gzip.c
@@ -8,7 +8,7 @@
 #include <watchdog.h>
 #include <command.h>
 #include <gzip.h>
-#include <image.h>
+#include <uimage.h>
 #include <malloc.h>
 #include <memalign.h>
 #include <u-boot/zlib.h>
diff --git a/lib/hash-checksum.c b/lib/hash-checksum.c
index d732ecc3..eede0c0b 100644
--- a/lib/hash-checksum.c
+++ b/lib/hash-checksum.c
@@ -14,7 +14,7 @@
 #include "fdt_host.h"
 #endif
 #include <hash.h>
-#include <image.h>
+#include <uimage.h>
 
 int hash_calculate(const char *name,
 		    const struct image_region region[],
diff --git a/lib/lmb.c b/lib/lmb.c
index 7bd1255f..2d31d93c 100644
--- a/lib/lmb.c
+++ b/lib/lmb.c
@@ -7,7 +7,7 @@
  */
 
 #include <common.h>
-#include <image.h>
+#include <uimage.h>
 #include <lmb.h>
 #include <log.h>
 #include <malloc.h>
diff --git a/lib/lz4_wrapper.c b/lib/lz4_wrapper.c
index cdbcd05b..60e65a2d 100644
--- a/lib/lz4_wrapper.c
+++ b/lib/lz4_wrapper.c
@@ -5,7 +5,7 @@
 
 #include <common.h>
 #include <compiler.h>
-#include <image.h>
+#include <uimage.h>
 #include <lz4.h>
 #include <linux/kernel.h>
 #include <linux/types.h>
diff --git a/lib/optee/optee.c b/lib/optee/optee.c
index 672690dc..14e4a6f9 100644
--- a/lib/optee/optee.c
+++ b/lib/optee/optee.c
@@ -6,7 +6,7 @@
 
 #include <common.h>
 #include <fdtdec.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <malloc.h>
 #include <dm/ofnode.h>
diff --git a/lib/rsa/rsa-keyprop.c b/lib/rsa/rsa-keyprop.c
index 98855f67..df479314 100644
--- a/lib/rsa/rsa-keyprop.c
+++ b/lib/rsa/rsa-keyprop.c
@@ -10,7 +10,7 @@
  */
 
 #include <common.h>
-#include <image.h>
+#include <uimage.h>
 #include <malloc.h>
 #include <crypto/internal/rsa.h>
 #include <u-boot/rsa-mod-exp.h>
diff --git a/lib/rsa/rsa-sign.c b/lib/rsa/rsa-sign.c
index 0e0a890f..ddbe7568 100644
--- a/lib/rsa/rsa-sign.c
+++ b/lib/rsa/rsa-sign.c
@@ -7,7 +7,7 @@
 #include <stdlib.h>
 #include <stdio.h>
 #include <string.h>
-#include <image.h>
+#include <uimage.h>
 #include <time.h>
 #include <u-boot/fdt-libcrypto.h>
 #include <openssl/bn.h>
diff --git a/net/net.c b/net/net.c
index c2992a09..bbd750ff 100644
--- a/net/net.c
+++ b/net/net.c
@@ -88,7 +88,7 @@
 #include <env.h>
 #include <env_internal.h>
 #include <errno.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <net.h>
 #include <net/fastboot.h>
diff --git a/net/nfs.c b/net/nfs.c
index 70d0e08b..f56e0013 100644
--- a/net/nfs.c
+++ b/net/nfs.c
@@ -29,7 +29,7 @@
 #include <common.h>
 #include <command.h>
 #include <flash.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <net.h>
 #include <malloc.h>
diff --git a/net/tftp.c b/net/tftp.c
index 5baf528f..95b0541e 100644
--- a/net/tftp.c
+++ b/net/tftp.c
@@ -9,7 +9,7 @@
 #include <command.h>
 #include <efi_loader.h>
 #include <env.h>
-#include <image.h>
+#include <uimage.h>
 #include <lmb.h>
 #include <log.h>
 #include <mapmem.h>
diff --git a/test/compression.c b/test/compression.c
index 4cd1be56..5aee025b 100644
--- a/test/compression.c
+++ b/test/compression.c
@@ -7,7 +7,7 @@
 #include <bootm.h>
 #include <command.h>
 #include <gzip.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <lz4.h>
 #include <malloc.h>
diff --git a/test/image/spl_load.c b/test/image/spl_load.c
index e7cabf56..39a29293 100644
--- a/test/image/spl_load.c
+++ b/test/image/spl_load.c
@@ -5,7 +5,7 @@
  */
 
 #include <common.h>
-#include <image.h>
+#include <uimage.h>
 #include <mapmem.h>
 #include <os.h>
 #include <spl.h>
diff --git a/test/lib/rsa.c b/test/lib/rsa.c
index 44f8ade2..287ce08b 100644
--- a/test/lib/rsa.c
+++ b/test/lib/rsa.c
@@ -8,7 +8,7 @@
 
 #include <common.h>
 #include <command.h>
-#include <image.h>
+#include <uimage.h>
 #include <test/lib.h>
 #include <test/test.h>
 #include <test/ut.h>
diff --git a/test/overlay/cmd_ut_overlay.c b/test/overlay/cmd_ut_overlay.c
index 56a3df17..2f457af2 100644
--- a/test/overlay/cmd_ut_overlay.c
+++ b/test/overlay/cmd_ut_overlay.c
@@ -8,7 +8,7 @@
 #include <command.h>
 #include <errno.h>
 #include <fdt_support.h>
-#include <image.h>
+#include <uimage.h>
 #include <log.h>
 #include <malloc.h>
 
diff --git a/tools/aisimage.c b/tools/aisimage.c
index b8b3ee32..c4a6163a 100644
--- a/tools/aisimage.c
+++ b/tools/aisimage.c
@@ -6,7 +6,7 @@
 
 #include "imagetool.h"
 #include "aisimage.h"
-#include <image.h>
+#include <uimage.h>
 
 #define IS_FNC_EXEC(c)	(cmd_table[c].AIS_cmd == AIS_CMD_FNLOAD)
 #define WORD_ALIGN0	4
diff --git a/tools/atmelimage.c b/tools/atmelimage.c
index 7b3b243d..bd32aa34 100644
--- a/tools/atmelimage.c
+++ b/tools/atmelimage.c
@@ -7,7 +7,7 @@
 #include "imagetool.h"
 #include "mkimage.h"
 
-#include <image.h>
+#include <uimage.h>
 
 #define pr_err(fmt, args...) fprintf(stderr, "atmelimage Error: " fmt, ##args)
 
diff --git a/tools/default_image.c b/tools/default_image.c
index e164c0c2..257b83a8 100644
--- a/tools/default_image.c
+++ b/tools/default_image.c
@@ -17,7 +17,7 @@
 #include "mkimage.h"
 #include <u-boot/crc.h>
 
-#include <image.h>
+#include <uimage.h>
 #include <tee/optee.h>
 #include <u-boot/crc.h>
 #include <imximage.h>
diff --git a/tools/dumpimage.c b/tools/dumpimage.c
index e5481435..86fbcac2 100644
--- a/tools/dumpimage.c
+++ b/tools/dumpimage.c
@@ -6,7 +6,7 @@
  */
 
 #include "dumpimage.h"
-#include <image.h>
+#include <uimage.h>
 #include <version.h>
 
 static void usage(void);
diff --git a/tools/fit_check_sign.c b/tools/fit_check_sign.c
index 5573842d..3c2cc8cb 100644
--- a/tools/fit_check_sign.c
+++ b/tools/fit_check_sign.c
@@ -20,7 +20,7 @@
 
 #include "mkimage.h"
 #include "fit_common.h"
-#include <image.h>
+#include <uimage.h>
 #include <u-boot/crc.h>
 
 void usage(char *cmdname)
diff --git a/tools/fit_common.c b/tools/fit_common.c
index 52b63296..f2e68c9e 100644
--- a/tools/fit_common.c
+++ b/tools/fit_common.c
@@ -20,7 +20,7 @@
 #include "imagetool.h"
 #include "mkimage.h"
 #include "fit_common.h"
-#include <image.h>
+#include <uimage.h>
 #include <u-boot/crc.h>
 
 int fit_verify_header(unsigned char *ptr, int image_size,
diff --git a/tools/fit_common.h b/tools/fit_common.h
index 1e81d4c6..9e07a414 100644
--- a/tools/fit_common.h
+++ b/tools/fit_common.h
@@ -8,7 +8,7 @@
 
 #include "imagetool.h"
 #include "mkimage.h"
-#include <image.h>
+#include <uimage.h>
 
 /**
  * Verify the format of FIT header pointed to by ptr
diff --git a/tools/fit_image.c b/tools/fit_image.c
index f4f372ba..965fc36f 100644
--- a/tools/fit_image.c
+++ b/tools/fit_image.c
@@ -16,7 +16,7 @@
 #include "imagetool.h"
 #include "fit_common.h"
 #include "mkimage.h"
-#include <image.h>
+#include <uimage.h>
 #include <string.h>
 #include <stdarg.h>
 #include <version.h>
diff --git a/tools/fit_info.c b/tools/fit_info.c
index b2642ec5..857e5936 100644
--- a/tools/fit_info.c
+++ b/tools/fit_info.c
@@ -23,7 +23,7 @@
 
 #include "mkimage.h"
 #include "fit_common.h"
-#include <image.h>
+#include <uimage.h>
 #include <u-boot/crc.h>
 
 void usage(char *cmdname)
diff --git a/tools/gpimage-common.c b/tools/gpimage-common.c
index fc6406b9..aa88feeb 100644
--- a/tools/gpimage-common.c
+++ b/tools/gpimage-common.c
@@ -19,7 +19,7 @@
 
 #include "imagetool.h"
 #include <compiler.h>
-#include <image.h>
+#include <uimage.h>
 #include "gpheader.h"
 
 /* Helper to convert size and load_addr to big endian */
diff --git a/tools/gpimage.c b/tools/gpimage.c
index 27de4cfa..db4c18fb 100644
--- a/tools/gpimage.c
+++ b/tools/gpimage.c
@@ -20,7 +20,7 @@
 
 #include "imagetool.h"
 #include <compiler.h>
-#include <image.h>
+#include <uimage.h>
 #include "gpheader.h"
 
 static uint8_t gpimage_header[GPIMAGE_HDR_SIZE];
diff --git a/tools/image-host.c b/tools/image-host.c
index d3a882ec..d50e11c4 100644
--- a/tools/image-host.c
+++ b/tools/image-host.c
@@ -11,7 +11,7 @@
 #include "mkimage.h"
 #include <bootm.h>
 #include <fdt_region.h>
-#include <image.h>
+#include <uimage.h>
 #include <version.h>
 
 /**
diff --git a/tools/image-sig-host.c b/tools/image-sig-host.c
index 8ed6998d..b13dc0f6 100644
--- a/tools/image-sig-host.c
+++ b/tools/image-sig-host.c
@@ -7,7 +7,7 @@
 #include <fdt_support.h>
 #include <time.h>
 #include <linux/libfdt.h>
-#include <image.h>
+#include <uimage.h>
 #include <u-boot/ecdsa.h>
 #include <u-boot/rsa.h>
 #include <u-boot/hash-checksum.h>
diff --git a/tools/imagetool.c b/tools/imagetool.c
index ba1f64aa..c87af0bc 100644
--- a/tools/imagetool.c
+++ b/tools/imagetool.c
@@ -7,7 +7,7 @@
 
 #include "imagetool.h"
 
-#include <image.h>
+#include <uimage.h>
 
 struct image_type_params *imagetool_get_type(int type)
 {
diff --git a/tools/imx8image.c b/tools/imx8image.c
index fa8f2274..f9b3ad3c 100644
--- a/tools/imx8image.c
+++ b/tools/imx8image.c
@@ -6,7 +6,7 @@
  */
 
 #include "imx8image.h"
-#include <image.h>
+#include <uimage.h>
 
 static int p_idx;
 static int sector_size;
diff --git a/tools/imx8mimage.c b/tools/imx8mimage.c
index 11e40ccd..c4e989dc 100644
--- a/tools/imx8mimage.c
+++ b/tools/imx8mimage.c
@@ -7,7 +7,7 @@
 
 
 #include "imagetool.h"
-#include <image.h>
+#include <uimage.h>
 #include "imximage.h"
 #include "compiler.h"
 
diff --git a/tools/imximage.c b/tools/imximage.c
index 5c23fba3..9e9bcc99 100644
--- a/tools/imximage.c
+++ b/tools/imximage.c
@@ -9,7 +9,7 @@
  */
 
 #include "imagetool.h"
-#include <image.h>
+#include <uimage.h>
 #include "imximage.h"
 #include <generated/autoconf.h>
 
diff --git a/tools/kwbimage.c b/tools/kwbimage.c
index d200ff24..c32f1ac6 100644
--- a/tools/kwbimage.c
+++ b/tools/kwbimage.c
@@ -9,7 +9,7 @@
 
 #include "imagetool.h"
 #include <limits.h>
-#include <image.h>
+#include <uimage.h>
 #include <stdarg.h>
 #include <stdint.h>
 #include "kwbimage.h"
diff --git a/tools/kwboot.c b/tools/kwboot.c
index 7feeaa45..28659953 100644
--- a/tools/kwboot.c
+++ b/tools/kwboot.c
@@ -16,7 +16,7 @@
 #include <stdio.h>
 #include <string.h>
 #include <stdarg.h>
-#include <image.h>
+#include <uimage.h>
 #include <libgen.h>
 #include <fcntl.h>
 #include <errno.h>
diff --git a/tools/lpc32xximage.c b/tools/lpc32xximage.c
index 37931f91..0540684a 100644
--- a/tools/lpc32xximage.c
+++ b/tools/lpc32xximage.c
@@ -22,7 +22,7 @@
 
 #include "imagetool.h"
 #include <compiler.h>
-#include <image.h>
+#include <uimage.h>
 
 /*
  * NAND page 0 boot header
diff --git a/tools/mkimage.c b/tools/mkimage.c
index 302bfcf9..eaf704bd 100644
--- a/tools/mkimage.c
+++ b/tools/mkimage.c
@@ -10,7 +10,7 @@
 #include "imagetool.h"
 #include "mkimage.h"
 #include "imximage.h"
-#include <image.h>
+#include <uimage.h>
 #include <version.h>
 #ifdef __linux__
 #include <sys/ioctl.h>
diff --git a/tools/mtk_image.c b/tools/mtk_image.c
index 418c5fd5..db604d19 100644
--- a/tools/mtk_image.c
+++ b/tools/mtk_image.c
@@ -6,7 +6,7 @@
  * Author: Weijie Gao <weijie.gao@mediatek.com>
  */
 
-#include <image.h>
+#include <uimage.h>
 #include <u-boot/sha256.h>
 #include "imagetool.h"
 #include "mtk_image.h"
diff --git a/tools/mxsimage.c b/tools/mxsimage.c
index 002f4b52..b41a4b7d 100644
--- a/tools/mxsimage.c
+++ b/tools/mxsimage.c
@@ -20,7 +20,7 @@
 #include "imagetool.h"
 #include "mxsimage.h"
 #include "pbl_crc32.h"
-#include <image.h>
+#include <uimage.h>
 
 /*
  * OpenSSL 1.1.0 and newer compatibility functions:
diff --git a/tools/omapimage.c b/tools/omapimage.c
index c59cdcc7..81c971e7 100644
--- a/tools/omapimage.c
+++ b/tools/omapimage.c
@@ -15,7 +15,7 @@
 
 #include "imagetool.h"
 #include <compiler.h>
-#include <image.h>
+#include <uimage.h>
 #include "gpheader.h"
 #include "omapimage.h"
 
diff --git a/tools/pblimage.c b/tools/pblimage.c
index 3c823e96..0329a900 100644
--- a/tools/pblimage.c
+++ b/tools/pblimage.c
@@ -3,7 +3,7 @@
  * Copyright 2012-2014 Freescale Semiconductor, Inc.
  */
 #include "imagetool.h"
-#include <image.h>
+#include <uimage.h>
 #include "pblimage.h"
 #include "pbl_crc32.h"
 #include <u-boot/crc.h>
diff --git a/tools/rkcommon.c b/tools/rkcommon.c
index d55cd2c2..1ac75303 100644
--- a/tools/rkcommon.c
+++ b/tools/rkcommon.c
@@ -9,7 +9,7 @@
  */
 
 #include "imagetool.h"
-#include <image.h>
+#include <uimage.h>
 #include <rc4.h>
 #include "mkimage.h"
 #include "rkcommon.h"
diff --git a/tools/rkimage.c b/tools/rkimage.c
index 1c5540b1..7b147110 100644
--- a/tools/rkimage.c
+++ b/tools/rkimage.c
@@ -7,7 +7,7 @@
  */
 
 #include "imagetool.h"
-#include <image.h>
+#include <uimage.h>
 #include "rkcommon.h"
 
 static uint32_t header;
diff --git a/tools/rksd.c b/tools/rksd.c
index 7d46a1b0..2288b6bf 100644
--- a/tools/rksd.c
+++ b/tools/rksd.c
@@ -7,7 +7,7 @@
  */
 
 #include "imagetool.h"
-#include <image.h>
+#include <uimage.h>
 #include <rc4.h>
 #include "mkimage.h"
 #include "rkcommon.h"
diff --git a/tools/rkspi.c b/tools/rkspi.c
index f2530f7b..c66fe020 100644
--- a/tools/rkspi.c
+++ b/tools/rkspi.c
@@ -7,7 +7,7 @@
  */
 
 #include "imagetool.h"
-#include <image.h>
+#include <uimage.h>
 #include <rc4.h>
 #include "mkimage.h"
 #include "rkcommon.h"
diff --git a/tools/socfpgaimage.c b/tools/socfpgaimage.c
index eba812fe..4c3e8c88 100644
--- a/tools/socfpgaimage.c
+++ b/tools/socfpgaimage.c
@@ -57,7 +57,7 @@
 #include "mkimage.h"
 #include <u-boot/crc.h>
 
-#include <image.h>
+#include <uimage.h>
 
 #define HEADER_OFFSET	0x40
 #define VALIDATION_WORD	0x31305341
diff --git a/tools/stm32image.c b/tools/stm32image.c
index 18357c05..ededdb8f 100644
--- a/tools/stm32image.c
+++ b/tools/stm32image.c
@@ -3,7 +3,7 @@
  * Copyright (C) 2018, STMicroelectronics - All Rights Reserved
  */
 
-#include <image.h>
+#include <uimage.h>
 #include "imagetool.h"
 
 /* magic ='S' 'T' 'M' 0x32 */
diff --git a/tools/sunxi_egon.c b/tools/sunxi_egon.c
index a5299eb6..922d57ba 100644
--- a/tools/sunxi_egon.c
+++ b/tools/sunxi_egon.c
@@ -4,7 +4,7 @@
  */
 
 #include "imagetool.h"
-#include <image.h>
+#include <uimage.h>
 
 #include <sunxi_image.h>
 
diff --git a/tools/ublimage.c b/tools/ublimage.c
index 1d2e897f..efdd6dc2 100644
--- a/tools/ublimage.c
+++ b/tools/ublimage.c
@@ -13,7 +13,7 @@
  */
 
 #include "imagetool.h"
-#include <image.h>
+#include <uimage.h>
 #include "ublimage.h"
 
 /*
diff --git a/tools/vybridimage.c b/tools/vybridimage.c
index 94a6684c..883ef3fa 100644
--- a/tools/vybridimage.c
+++ b/tools/vybridimage.c
@@ -10,7 +10,7 @@
 
 #include "imagetool.h"
 #include <compiler.h>
-#include <image.h>
+#include <uimage.h>
 
 /*
  * NAND page 0 boot header
diff --git a/tools/zynqimage.c b/tools/zynqimage.c
index d3f418b0..c4ea84b4 100644
--- a/tools/zynqimage.c
+++ b/tools/zynqimage.c
@@ -46,7 +46,7 @@
 
 #include "imagetool.h"
 #include "mkimage.h"
-#include <image.h>
+#include <uimage.h>
 
 #define HEADER_INTERRUPT_DEFAULT (cpu_to_le32(0xeafffffe))
 #define HEADER_REGINIT_NULL (cpu_to_le32(0xffffffff))
diff --git a/tools/zynqmpbif.c b/tools/zynqmpbif.c
index 82ce0ac1..b6f17dae 100644
--- a/tools/zynqmpbif.c
+++ b/tools/zynqmpbif.c
@@ -8,7 +8,7 @@
 #include "mkimage.h"
 #include "zynqmpimage.h"
 #include <elf.h>
-#include <image.h>
+#include <uimage.h>
 
 struct bif_entry {
 	const char *filename;
diff --git a/tools/zynqmpimage.c b/tools/zynqmpimage.c
index 19b2f02f..df7866b7 100644
--- a/tools/zynqmpimage.c
+++ b/tools/zynqmpimage.c
@@ -58,7 +58,7 @@
 #include "imagetool.h"
 #include "mkimage.h"
 #include "zynqmpimage.h"
-#include <image.h>
+#include <uimage.h>
 
 static struct zynqmp_header zynqmpimage_header;
 static void *dynamic_header;
-- 
2.30.2

